{"version":3,"sources":["lib/api.js","components/InputHeadline.js","lib/utils.js","components/SVG/ChartLines.js","components/TextBox.js","components/SVG/Titles.js","components/SVG/DateAxis.js","components/SVG/Event.js","components/Poster.js","components/StockSelect.js","components/Input.js","components/Checkbox.js","components/Button.js","components/AutoSize.js","components/Swatch.js","components/InputPopup.js","components/Spacer.js","components/EventEditor.js","components/RoundedBlock.js","components/HorizontalSelector.js","components/DateSelector.js","components/YesNoPrompt.js","components/TextEditor.js","components/CartItem.js","App.js","serviceWorker.js","index.js"],"names":["getProfile","symbol","a","Promise","resolve","reject","req","unirest","query","region","headers","useQueryString","end","res","error","Error","body","getInterval","startDate","endDate","hours","Math","round","start","getTime","getDiffMs","zeroDate","date","setHours","setMinutes","setSeconds","getChart","startDateIn","endDateIn","Date","setDate","getDate","console","log","interval","period2","period1","stockArray","chart","result","timestamp","entries","i","v","indicators","quote","close","push","window","localStorage","setItem","JSON","stringify","searchStock","searchTerm","q","Text","styled","div","InputHeadline","children","useStickyState","defaultValue","key","React","useState","stickyValue","getItem","parse","value","setValue","useEffect","getOneLowerPotensThanNumber","num","potens","String","length","pow","pad","inString","string","slice","dateToString","getMonth","getFullYear","downloadURI","uri","name","link","document","createElement","download","href","appendChild","click","removeChild","inchesToPoints","inches","cmToPoints","cm","getPointsFromSize","size","unit","map","loadFonts","doc","fonts","getFonts","loaded","font","xhr","XMLHttpRequest","open","url","responseType","onload","e","this","status","registerFont","response","send","exportPDF","saveLocal","PDFDocument","margins","top","bottom","left","right","then","svg","getElementById","SVGtoPDF","width","stream","pipe","blobStream","on","toBlobURL","toBlob","getIndexFromTimeStamp","stockData","inStamp","translate","x","y","scale","cx","ChartLine","relativeYPos","chartX","chartW","chartY","chartH","chartLineColor","textColor","fontSize","minValue","Î”Value","textValue","abs","x1","x2","y1","y2","stroke","fontFamily","fill","textAnchor","alignmentBaseline","ChartLines","maxValue","numberOfChartLines","Lines","Array","from","keys","item","index","Rect","rect","props","clickable","TextBox","text","maxLines","lineSpacing","onClick","lines","textWrap","transform","line","height","Titles","title","subTitle","showDate","startDateObj","endDateObj","offset","textSizeBoost","transformOrigin","fontWeight","getMonthName","toLocaleString","month","DateAxis","startStamp","endStamp","year","setFullYear","yearMs","diff","times","current","setMonth","timeStamp","dayMs","toAdd","getMinutes","getHours","dateObj","Event","event","points","color","split","cy","r","strokeWidth","dy","HoverCircle","circle","hoverColor","Poster","companyDescription","onCompanyDescriptionClick","exchangeName","market","eventColor","events","onAddEvent","style","lineThickness","useMemo","values","stock","max","ceil","reduce","b","min","floor","minRes","getNiceSpan","timestamps","includes","compare","smallest","shiftToClosest","stockObject","array","toFixed","fillPoints","yStart","xEnd","yEnd","xStart","numberOfEventColumns","label","SlicedEvents","freeColumns","columns","id","backgroundColor","display","stopColor","isArray","stopOpacity","join","point","onMouseEnter","StockSelect","onStockSelect","options","setOptions","isSearchable","onChange","onInputChange","newItems","quotes","shortname","fetch","StyledInput","input","Input","placeholder","Container","CheckBox","checked","p","Component","StyledButton","enabled","hexToRgba","Button","Inner","AutoSize","setScale","containerElement","useRef","innerElement","calcScale","xScale","scrollWidth","yScale","scrollHeight","addEventListener","ref","className","Color","highlighted","Swatch","colors","activeIndex","InputPopup","visible","onClose","onSubmit","maxCharacters","setText","target","SpacerElement","Spacer","EventElement","iconStyle","padding","Hover","PopupContainer","onEdit","onDelete","icon","faEdit","faTrash","EventEditor","onAdd","minDate","maxDate","showPopup","setShowPopup","editing","setEditing","border","Content","Hitbox","retractedHeight","Arrow","expanded","Title","h2","RoundedBlock","expandable","startOpen","currentHeight","setCurrentHeight","targetHeight","setTargetHeight","ContainerRef","faAngleRight","Option","selected","HorizontalSelector","currentValue","setCurrentValue","elements","option","ranges","newISOFromISOMinusMS","minus","toISOString","DateSelector","onDates","range","setRange","changeStartDate","disabled","changeEndDate","val","ButtonContainer","YesNoPrompt","onYes","onNo","flex","h1","TextArea","textarea","ButtonSpacer","MaxWordText","overLimit","buttonStyle","maxWidth","TextEditor","onCancel","onText","maxWords","maxWordsText","Price","CartItem","price","dev","location","sizes","fontsCSSCode","SideBar","PosterContainer","Disclamer","getStockData","data","getProfileData","PopupWidener","aYearAgo","App","stockSymbol","setStockSymbol","setTitle","setSubtitle","setCompanyDescription","setExchangeName","setMarket","setStartDate","setEndDate","setStockData","setSize","setFont","setLineThickness","setColor","setEventColor","setFill","currentlyAddingEvent","setCurrentlyAddingEvent","setEvents","appHasLoaded","setAppHasLoaded","showClearAllEventsPopup","setShowClearAllEventsPopup","showCompanyDescriptionPopup","setShowCompanyDescriptionPopup","setPrice","devMode","setDevMode","fillColors","fetchStock","profile","quoteType","assetProfile","longBusinessSummary","addEvent","eventText","newEvents","uuidv4","sort","getPrice","queryString","replace","buy","pdf","chartData","subtitle","sendPDF","Checkbox","styles","active","track","axis","disableAlpha","hex","filter","currency","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.ee79dcdd.chunk.js","sourcesContent":["import unirest from 'unirest'\n\nexport const getQuotes = async (symbol = 'TSLA') => {\n  return new Promise(function (resolve, reject) {\n    const req = unirest('GET', 'https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes')\n\n    req.query({\n      symbols: 'TSLA',\n      region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': 'a9d3d38bf9mshfab793adc941393p1e232ajsn826528c6fced',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      console.log(res.body)\n\n      console.log('saved')\n      return res.body.quoteResponse\n    //   const data = res.body\n    //   return data\n    })\n  })\n}\n\nexport const useChart = () => {\n}\n\nexport const getProfile = async (symbol) => {\n  return new Promise(function (resolve, reject) {\n    const req = unirest('GET', 'https://rapidapi.p.rapidapi.com/stock/v2/get-profile')\n\n    req.query({\n      symbol: symbol,\n      region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      // console.log(res.body)\n      resolve(res.body)\n    })\n  })\n}\n\nconst getDiffMs = (startDate, endDate) => {\n  const start = startDate.getTime()\n  const end = endDate.getTime()\n  return end - start\n}\n\n// One of the following is allowed 1m|2m|5m|15m|60m|1d\nconst getInterval = (startDate, endDate) => {\n  const hours = Math.round(getDiffMs(startDate, endDate) / 1000) / 60 / 60\n  if (hours <= 24) {\n    return '5m'\n  } else if (hours <= 24 * 5) {\n    return '15m'\n  } else if (hours <= 24 * 40) {\n    return '60m'\n  } else {\n    return '1d'\n  }\n}\n\nconst zeroDate = (date) => {\n  date.setHours(0)\n  date.setMinutes(0)\n  date.setSeconds(0)\n}\n\nexport const getChart = async (symbol, startDateIn, endDateIn) => {\n  const startDate = new Date(startDateIn)\n  const endDate = ((new Date(endDateIn)).getTime() > (new Date()).getTime()) ? new Date() : new Date(endDateIn)\n\n  zeroDate(startDate)\n  zeroDate(endDate)\n  endDate.setDate(endDate.getDate() + 1)\n\n  return new Promise(function (resolve, reject) {\n    const req = unirest('GET', 'https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart')\n    console.log('interval: ' + getInterval(startDate, endDate))\n\n    req.query({\n      interval: getInterval(startDate, endDate),\n      symbol: symbol,\n      period2: Math.round(endDate.getTime() / 1000),\n      period1: Math.round(startDate.getTime() / 1000)\n      // range: range, // Allowed values are (1d | 5d | 3mo | 6mo | 1y | 5y | max)\n      // region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      // console.log(res.body)\n      const body = res.body\n      console.log(body)\n      const stockArray = []\n\n      if (body.chart.result[0].timestamp) {\n        for (const [i, v] of body.chart.result[0].timestamp.entries()) {\n          if (body.chart.result[0].indicators.quote[0].close[i] !== null) {\n            stockArray.push({ timestamp: v, close: body.chart.result[0].indicators.quote[0].close[i] })\n          }\n        }\n      }\n\n      // console.log(stockArray)\n      window.localStorage.setItem('testData', JSON.stringify(body))\n      resolve(stockArray)\n    })\n  })\n}\n\nexport const searchStock = async (searchTerm) => {\n  return new Promise(function (resolve, reject) {\n    const req = unirest('GET', 'https://rapidapi.p.rapidapi.com/auto-complete')\n\n    req.query({\n      q: searchTerm\n      // region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      resolve(res.body)\n    })\n  })\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Text = styled.div`\n  color: #999;\n  font-size: 14px;\n  margin-top: 6px;\n  margin-bottom: 3px;\n`\n\nfunction InputHeadline ({ children }) {\n  return (\n    <Text>{children}</Text>\n  )\n}\n\nexport default InputHeadline\n","import React from 'react'\nimport PDFDocument from '@react-pdf/pdfkit'\nimport SVGtoPDF from 'svg-to-pdfkit'\nimport blobStream from 'blob-stream'\nimport { getFonts } from '../App'\n\nexport function useStickyState (defaultValue, key) {\n  const [value, setValue] = React.useState(() => {\n    const stickyValue = window.localStorage.getItem(key)\n    return stickyValue !== null\n      ? JSON.parse(stickyValue)\n      : defaultValue\n  })\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n  return [value, setValue]\n}\n\nconst getOneLowerPotensThanNumber = (num) => {\n  const numString = String(Math.round(num))\n  const potens = numString.length\n  const res = Math.pow(10, potens - 2)\n  if (res === 1) {\n    return 10 // 1 never looks good...\n  } else {\n    return Math.pow(10, potens - 2)\n  }\n}\n\n// Yeah this function is pretty ugly... Figure out a better way to do it perhaps...\nexport const getNiceSpan = (stockData) => {\n  const values = stockData.map(stock => stock.close)\n  const max = Math.ceil(values.reduce(function (a, b) {\n    return Math.max(a, b)\n  }, 0))\n\n  const min = Math.floor(values.reduce(function (a, b) {\n    return Math.min(a, b)\n  }, max))\n\n  const toAdd = getOneLowerPotensThanNumber(max)\n\n  let res = Math.ceil((max) / toAdd) * toAdd\n\n  res = Math.round(res / 5) * 5\n\n  let minRes = 0\n  if (max * 0.2 > min) {\n    // lower than 20% no point in clipping graph\n    minRes = 0\n  } else {\n    const toAdd = getOneLowerPotensThanNumber(min)\n    minRes = Math.floor((min) / toAdd) * toAdd\n  }\n\n  return [minRes, res]\n}\n\nexport const pad = (inString) => {\n  const string = '0' + inString\n  return string.slice(string.length - 2, string.length)\n}\n\nexport const dateToString = (date) => {\n  const res = pad(date.getMonth() + 1) + '/' + pad(date.getDate()) + '/' + date.getFullYear()\n  return res\n}\n\nexport const downloadURI = (uri, name) => {\n  const link = document.createElement('a')\n  link.download = name\n  link.href = uri\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n\nexport const inchesToPoints = (inches) => {\n  return inches * 72\n}\n\nexport const cmToPoints = (cm) => {\n  return inchesToPoints(cm * 0.393700787)\n}\n\nexport const getPointsFromSize = (size) => {\n  if (size.value.unit === 'cm') {\n    return size.value.size.map(size => cmToPoints(size))\n  } else if (size.value.unit === 'inches') {\n    return size.value.size.map(size => inchesToPoints(size))\n  }\n}\n\nexport const svgToPDFURL = async (size) => {\n  let url = ''\n  const doc = new PDFDocument({\n    size: 'A4',\n    margins: { // by default, all are 72\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n    // layout: 'landscape' // default is portrait\n  })\n  const svg = document.getElementById('mySVG')\n\n  SVGtoPDF(doc, svg, 0, 0, { width: 200 })\n  doc.end()\n  const stream = await doc.pipe(blobStream())\n  await stream.on('finish', function () {\n    // const iframe = document.getElementById('pdf-file')\n    // iframe.src = stream.toBlobURL('application/pdf')\n    // console.log(stream.toBlobURL('application/pdf'))\n    url = URL.createObjectURL(stream.toBlob()) // Possibly a way to use PDFViewer\n    // console.log(url)\n\n    downloadURI(stream.toBlobURL('application/pdf'), 'mychartv2.pdf')\n  })\n  console.log(url)\n  return url\n}\n\nexport const getFontNameFromURL = (url) => {\n  return 'my' + (url.split('/')[url.split('/').length - 1]).split('.')[0]\n}\n\nexport const loadFonts = async (doc) => {\n  const fonts = getFonts()\n  return new Promise((resolve, reject) => {\n    let loaded = 0\n    for (const font of fonts) {\n    // LOAD FONTS\n      const xhr = new window.XMLHttpRequest()\n      xhr.open('GET', font.url, true)\n      xhr.responseType = 'arraybuffer'\n\n      xhr.onload = function (e) {\n        if (this.status === 200) {\n          doc.registerFont(font.value, xhr.response)\n          loaded++\n          if (loaded === fonts.length) {\n            resolve('Success!') // Yay! Everything went well!\n          }\n        }\n      }\n      xhr.send()\n    }\n  })\n}\n\nexport const exportPDF = async (size, saveLocal) => {\n  return new Promise((resolve) => {\n    const doc = new PDFDocument({\n      size: size,\n      margins: { // by default, all are 72\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      }\n    // layout: 'landscape' // default is portrait\n    })\n\n    loadFonts(doc).then(async () => {\n      const svg = document.getElementById('mySVG')\n      SVGtoPDF(doc, svg, 0, 0, { width: size[0] })\n      doc.end()\n      const stream = doc.pipe(blobStream())\n      stream.on('finish', function () {\n        // A way to show live pdf!\n        // const iframe = document.getElementById('pdf-file')\n        // iframe.src = stream.toBlobURL('application/pdf')\n        // console.log(stream.toBlobURL('application/pdf'))\n        // console.log(URL.createObjectURL(stream.toBlob())) // Possibly a way to use PDFViewer\n        if (saveLocal) {\n          downloadURI(stream.toBlobURL('application/pdf'), 'mychart.pdf')\n        }\n        // return stream.toBlob()\n        resolve(stream.toBlob('application/pdf'))\n      })\n    })\n  })\n}\n\nexport const getIndexFromTimeStamp = (stockData, inStamp) => {\n  if (stockData.length === 0) { return -1 }\n  for (const [i, stock] of stockData.entries()) {\n    if (inStamp === stock.timestamp) {\n      return i\n    }\n  }\n  return -1\n}\n\nexport const translate = (x, y) => {\n  return 'translate(' + x + ',' + y + ')'\n}\n\nexport const scale = (scale, width) => {\n  // return ' scale(' + scale + ')'\n  const cx = width / 2\n  const cy = 0\n  return 'matrix(' + scale + ', 0, 0, ' + scale + ', ' + (cx - scale * cx) + ', ' + (cy - scale * cy) + ')'\n}\n","import React from 'react'\n\nfunction ChartLine ({ relativeYPos, chartX, chartW, chartY, chartH, chartLineColor, font, textColor, fontSize, minValue, Î”Value }) {\n  const textValue = Math.round(minValue + Î”Value * Math.abs(relativeYPos - 1)) // Account for precision errors!\n\n  return (\n    <g>\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * relativeYPos)} y2={chartY + (chartH * relativeYPos)} stroke={chartLineColor} />\n      <text fontFamily={font} fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * relativeYPos)}>{textValue}</text>\n    </g>\n  )\n}\n\nfunction ChartLines ({ font, chartX, chartY, chartW, chartH, minValue, maxValue, textColor = '#777', fontSize = '7' }) {\n  const Î”Value = maxValue - minValue\n  const chartLineColor = '#ddd'\n\n  let numberOfChartLines = 5\n  // Check the best looking numbers first hence wierd order!\n  if (!(Î”Value % 5)) {\n    numberOfChartLines = 4\n  } else if (!(Î”Value % 6)) {\n    numberOfChartLines = 5\n  } else if (!(Î”Value % 7)) {\n    numberOfChartLines = 6\n  } else if (!(Î”Value % 4)) {\n    numberOfChartLines = 3\n  }\n\n  const iterator = Array.from(Array(numberOfChartLines).keys())\n  const Lines = iterator.map((item, index) => <ChartLine key={index + 'chartLine'} relativeYPos={index / (numberOfChartLines - 1)} chartX={chartX} chartW={chartW} chartY={chartY} chartH={chartH} chartLineColor={chartLineColor} font={font} textColor={textColor} fontSize={fontSize} minValue={minValue} Î”Value={Î”Value} />)\n\n  return (\n    <g>\n      {Lines}\n    </g>\n  )\n}\nexport default ChartLines\n","import React from 'react'\nimport textWrap from 'svg-text-wrap'\nimport styled from 'styled-components'\n\nconst Rect = styled.rect`\n  :hover {\n    cursor: ${props => props.clickable ? 'pointer' : 'initial'};\n  }\n`\n\nfunction TextBox ({ text = '', font, x = 0, y = 0, maxLines = null, width = 200, fontSize, lineSpacing = 20, onClick }) {\n  let lines = textWrap(text, width, { 'font-size': fontSize })\n  if (maxLines) {\n    lines = lines.slice(0, maxLines)\n  }\n\n  return (\n    <g onClick={onClick} transform={'translate(' + x + ', ' + y + ')'}>\n      {lines.map((line, i) => <text x={0} y={i * lineSpacing} key={line + i} fontSize={fontSize} fontFamily={font}>{line}</text>)}\n      <Rect clickable={!!onClick} y={-fontSize} width={width} height={lines.length * lineSpacing > 89 ? lines.length * lineSpacing : 89} fill='transparent' />{/* Transparent */}\n    </g>\n  )\n}\nexport default TextBox\n","import React from 'react'\nimport { dateToString, translate, scale } from '../../lib/utils'\n\nfunction Titles ({ width, height, title, subTitle, font, showDate, startDate, endDate }) {\n  const startDateObj = new Date(startDate)\n  const endDateObj = new Date(endDate)\n  const offset = (130 * 3 + height * 0.115) / 4\n  // 30x40cm is 1133.85826656\n  const textSizeBoost = (height - 1133.85826656) / 1500 + 1\n\n  return (\n    <g transform={translate(0, offset) + scale(textSizeBoost, width)} transformOrigin='50% 50%'>\n      <text x={width / 2} y='0' fill='#000' fontFamily={font} fontWeight='bold' fontSize={26} textAnchor='middle' alignmentBaseline='hanging'>{title}</text>\n      <text x={width / 2} y='40' fill='#666' fontFamily={font} fontSize={15} textAnchor='middle' alignmentBaseline='hanging'>{subTitle}</text>\n      {showDate && <text x={width / 2} y='64' fill='#666' fontFamily={font} fontSize={7} textAnchor='middle' alignmentBaseline='hanging'>{dateToString(startDateObj)} - {dateToString(endDateObj)}</text>}\n    </g>\n  )\n}\nexport default Titles\n","import React from 'react'\nimport { dateToString, translate, pad } from '../../lib/utils'\n\nconst getMonthName = (date) => {\n  return date.toLocaleString('en-US', { month: 'short' })\n}\n\nfunction DateAxis ({ font, startStamp, endStamp, chartW, chartX, y, fontSize = 7 }) {\n  const year = new Date(0)\n  year.setFullYear(year.getFullYear() + 1)\n  const yearMs = year.getTime()\n  const dayMs = 1000 * 60 * 60 * 24\n  const diff = (endStamp - startStamp) * 1000\n  const times = []\n  const startDate = new Date(startStamp * 1000)\n  const endDate = new Date(endStamp * 1000)\n\n  if (diff > 2 * yearMs) { // over 2 years\n    const current = (new Date(startDate.getTime()))\n    current.setMonth(0)\n    current.setDate(1)\n    startDate.setDate(startDate.getDate() - 30) // Increase the span a bit if its close\n    endDate.setDate(endDate.getDate() + 30)\n    while (current.getTime() < endDate.getTime()) {\n      if (startDate.getTime() < current.getTime() && current.getTime() < endDate.getTime()) {\n        times.push({ title: current.getFullYear(), timeStamp: current.getTime() })\n      }\n      current.setFullYear(current.getFullYear() + 1)\n    }\n  } else if (diff > yearMs) { // 2 years - 1 years\n    console.log('over 1 year')\n\n    const current = (new Date(startDate.getTime()))\n    current.setDate(1)\n    startDate.setDate(startDate.getDate() - 15) // Increase the span a bit if its close\n    endDate.setDate(endDate.getDate() + 15)\n    while (current.getTime() < endDate.getTime()) {\n      if (startDate.getTime() < current.getTime() && current.getTime() < endDate.getTime()) {\n        times.push({ title: current.getFullYear() + ' ' + getMonthName(current), timeStamp: current.getTime() })\n      }\n      current.setMonth(current.getMonth() + 1)\n    }\n  } else if (diff > 2 * yearMs / 12) { // 1 year - 2 months\n    console.log('over 3 months')\n\n    const current = (new Date(startDate.getTime()))\n    current.setDate(1)\n    startDate.setDate(startDate.getDate() - 10) // Increase the span a bit if its close\n    endDate.setDate(endDate.getDate() + 10)\n    while (current.getTime() < endDate.getTime()) {\n      if (startDate.getTime() < current.getTime() && current.getTime() < endDate.getTime()) {\n        times.push({ title: getMonthName(current), timeStamp: current.getTime() })\n      }\n      current.setMonth(current.getMonth() + 1)\n    }\n  } else if (diff > dayMs * 1) { // 2 months - 1 days\n    console.log('over 30 days')\n    const toAdd = (diff > 1 * yearMs / 12) ? 2 : 1\n    const current = (new Date(startDate.getTime()))\n    startDate.setHours(0)\n    endDate.setHours(23)\n    while (current.getTime() < endDate.getTime()) {\n      times.push({ title: dateToString(current), timeStamp: current.getTime() })\n      current.setDate(current.getDate() + toAdd)\n    }\n  } else { // 1 days - 0\n    console.log('print hours...')\n\n    const current = (new Date(startDate.getTime()))\n    current.setMinutes(0)\n    current.setSeconds(0)\n    startDate.setSeconds(0)\n    endDate.setMinutes(endDate.getMinutes() + 10)\n    endDate.setSeconds(0)\n    while (current.getTime() <= endDate.getTime()) {\n      times.push({ title: pad(current.getHours()) + ':' + pad(current.getMinutes()), timeStamp: current.getTime() })\n      current.setHours(current.getHours() + 1)\n    }\n  }\n\n  return (\n    <g transform={translate(chartX, y)}>\n      {/* <rect width={chartW} height={10} fill='red' /> */}\n      {times.map((dateObj) => <text fontFamily={font} textAnchor='middle' fontSize={fontSize} fill='#777' x={chartW * ((dateObj.timeStamp - startStamp * 1000) / diff)} key={'graphDate' + dateObj.timeStamp}>{dateObj.title}</text>)}\n    </g>\n  )\n}\nexport default DateAxis\n","import React from 'react'\nimport { getIndexFromTimeStamp } from '../../lib/utils'\n\nconst lineLength = 10\n\nfunction Event ({ event, stockData, points, color, fontSize = 7 }) { // These are some ugly props... But it makes it easy to use\n  const index = getIndexFromTimeStamp(stockData, event.timeStamp)\n\n  if (index === -1) {\n    return ('')\n  }\n\n  return (\n    <g transform={'translate(' + points[getIndexFromTimeStamp(stockData, event.timeStamp)].split(' ')[0] + ',' + points[getIndexFromTimeStamp(stockData, event.timeStamp)].split(' ')[1] + ')'}>\n      <circle cx={0} cy={-lineLength} r='6' stroke='none' fill={color} />\n      {/* strokeDasharray='5,5' */}\n      <line x1={0} y1={0} x2={0} y2={-lineLength} stroke={color} strokeWidth={0.5} />\n      <text fill='#fff' fontWeight='bolder' fontSize={fontSize} y={-lineLength + 0} x='0' textAnchor='middle' dy='.3em'>{event.index}</text>\n    </g>\n  )\n}\nexport default Event\n","import React, { useState } from 'react'\nimport { getNiceSpan, getPointsFromSize, cmToPoints, translate } from '../lib/utils'\nimport ChartLines from './SVG/ChartLines'\nimport TextBox from './TextBox'\nimport Titles from './SVG/Titles'\nimport DateAxis from './SVG/DateAxis'\nimport styled from 'styled-components'\n\nimport Event from './SVG/Event'\n\nconst shiftToClosest = (compare, timestamps) => {\n  if (timestamps.length === 0) { return compare }\n\n  let smallest = 0\n  let res = 0\n  for (const timestamp of timestamps) {\n    if (smallest === 0) {\n      smallest = Math.abs(timestamp - compare)\n    } else {\n      if (smallest > Math.abs(timestamp - compare)) {\n        smallest = Math.abs(timestamp - compare)\n        res = timestamp\n      }\n    }\n  }\n  return res\n}\n\nconst HoverCircle = styled.circle`\n  :hover {\n    fill: ${props => props.hoverColor};\n  }\n`\n\n// const InfoPrompt = ({ pos, value }) => {\n//   console.log(pos)\n//   return (\n//     <g transform={'translate( ' + pos[0] + ', ' + pos[1]}>\n//       <text>{value}USD eesfiesf huiefs hufse huis ef efshuefs hu fesiuh efsihu efsihuefs ihu sefhiu</text>\n//     </g>\n//   )\n// }\n\nconst Poster = ({ title = '', subTitle = '', font = \"'Lora', serif\", symbol = '', companyDescription = '', onCompanyDescriptionClick, exchangeName = '', market = '', color, fill = 'none', eventColor = color, showDate = true, startDate, endDate, size, stockData, events, style, onAddEvent, lineThickness }) => {\n  // const [infoPrompt, setInfoPrompt] = useState(null)\n  const width = React.useMemo(() => getPointsFromSize(size)[0] / 72 * 96, [size])\n  const height = React.useMemo(() => getPointsFromSize(size)[1] / 72 * 96, [size])\n  const [minValue, maxValue] = React.useMemo(() => {\n    return getNiceSpan(stockData ?? [0, 0])\n  })\n\n  const chartY = 300\n  const chartH = height - chartY - 265\n\n  const chartX = 130\n  const chartW = width - chartX - chartX\n\n  const timestamps = React.useMemo(() => {\n    if (!stockData) { return [] }\n    return stockData.map(stock => stock.timestamp)\n  }, [stockData])\n\n  events = React.useMemo(() => {\n    return events.map(event => {\n      if (timestamps.includes(event.timeStamp)) {\n        return event\n      } else {\n        event.timeStamp = shiftToClosest(event.timeStamp, timestamps)\n        return event\n      }\n    })\n  }, [events, stockData])\n\n  const points = React.useMemo(() => {\n    if (stockData == null) return []\n\n    return stockData.map((stockObject, index, array) => {\n      const value = stockObject.close\n      const x = chartX + (index / (array.length - 1)) * chartW\n      const y = chartY + chartH - (((value - minValue) / (maxValue - minValue)) * chartH)\n\n      return `${x.toFixed(8)} ${y.toFixed(8)}`\n    })\n  }, [size, stockData, fill])\n\n  const fillPoints = React.useMemo(() => {\n    if (stockData == null) return []\n\n    const xStart = chartX + 0\n    const yStart = chartY + chartH\n    const xEnd = chartX + ((stockData.length - 1) / (stockData.length - 1)) * chartW\n    const yEnd = chartY + chartH\n    return [xStart + ' ' + yStart, ...points, xEnd + ' ' + yEnd]\n  }, [size, stockData, fill])\n\n  const numberOfEventColumns = React.useMemo(() => {\n    if (size.label === '30x40cm') {\n      return 2\n    } else if (size.label === '50x70cm') {\n      return 4\n    } else if (size.label === '70x100cm') {\n      return 6\n    } else {\n      return 2\n    }\n  }, [size])\n\n  const SlicedEvents = React.useMemo(() => {\n    return events.slice(0, numberOfEventColumns * 5)\n  }, [events, numberOfEventColumns])\n\n  const freeColumns = React.useMemo(() => {\n    const columns = Math.ceil(SlicedEvents.length / 5)\n    return numberOfEventColumns - columns\n  }, [SlicedEvents, numberOfEventColumns])\n\n  const hovering = (e, pos, index) => {\n    // const close = stockData[index].close\n    // setInfoPrompt({ pos: pos, value: close })\n  }\n\n  // <svg id='mySVG' viewBox={`0 0 ${width} ${height}`} style={style}> // Viewbox causes issues with font-sizes!\n  return (\n    <svg id='mySVG' width={width} height={height} style={{ backgroundColor: 'white', display: 'block' }}>\n      {/* <svg id='mySVG' width={width} height={height} style={{ backgroundColor: 'green', display: 'block' }}> */}\n      <defs>\n        <linearGradient id='gradient' x1='0%' y1='0%' x2='0%' y2='100%'>\n          <stop offset='0%' stopColor={Array.isArray(fill) ? fill[0] : '#fff'} stopOpacity={1} />\n          <stop offset='100%' stopColor={Array.isArray(fill) ? fill[1] : '#fff'} stopOpacity={0} />\n        </linearGradient>\n      </defs>\n\n      {/* Borders */}\n      <rect x='0' y='0' width={width} height={height} fill='white' />\n      <rect x={cmToPoints(2.5)} y={cmToPoints(2.5)} width={width - cmToPoints(2.5) * 2} height={height - cmToPoints(2.5) * 2} fill='white' stroke='black' />\n      <rect x={cmToPoints(3)} y={cmToPoints(3)} width={width - cmToPoints(6)} height={height - cmToPoints(6)} fill='white' stroke='black' strokeWidth='3' />\n\n      {/* Titles */}\n      <Titles width={width} height={height} title={title} subTitle={subTitle} font={font} showDate={showDate} startDate={startDate} endDate={endDate} />\n\n      {/* CHART BG LINES */}\n      <ChartLines font={font} chartX={chartX} chartY={chartY} chartW={chartW} chartH={chartH} minValue={minValue} maxValue={maxValue} />\n\n      {/* CHART PATH */}\n      <polyline fill='none' strokeWidth={lineThickness} stroke={color} points={points.join(' ')} />\n      {fill !== 'none' &&\n        <polyline fill='url(#gradient)' strokeWidth='0' stroke='none' points={fillPoints.join(' ')} />}\n\n      {/* HOVER DOTS */}\n      {points.map((point, i) => <HoverCircle onMouseEnter={(e) => hovering(e, [point.split(' ')[0], point.split(' ')[1]], i)} key={point} onClick={() => onAddEvent(stockData[i].timestamp)} cx={point.split(' ')[0]} cy={point.split(' ')[1]} r='5' stroke='none' fill='transparent' hoverColor={color} />)}\n\n      {/* INFO PROMPT */}\n      {/* {(infoPrompt && infoPrompt.pos) && <InfoPrompt pos={infoPrompt.pos} value={infoPrompt.value} />} */}\n      {/* <InfoPrompt pos={infoPrompt.pos} value={infoPrompt.value} /> */}\n\n      {/* EVENTS */}\n      {events.map(event => <Event key={event.id} event={event} color={eventColor} stockData={stockData} points={points} />)}\n\n      {SlicedEvents.map((event, i) => <text fontFamily={font} key={event.id + 'eventText'} x={chartX + chartW - (numberOfEventColumns - freeColumns) * 160 + Math.floor(i / 5) * 160} y={chartY + chartH + 60 + 16 * (i - Math.floor(i / 5) * 5)} fontSize={7}>{i + 1 + '. ' + event.text}</text>)}\n\n      {/* Date axis */}\n      {timestamps.length && <DateAxis font={font} startStamp={timestamps[0]} endStamp={timestamps[timestamps.length - 1]} chartW={chartW} chartX={chartX} y={chartY + chartH + 25} />}\n\n      {/* COMPANY DESCRIPTION */}\n      <TextBox onClick={onCompanyDescriptionClick} text={companyDescription} font={font} width={800} fontSize='7' lineSpacing='12' maxLines={false} x={chartX + 100} y={chartY + chartH + 60} />\n\n      {/* <text x={0} y={chartY + chartH + 25}>I am a very long text that will be rendered incorrectly I presume. I am a very long text that will be rendered incorrectly I presume.</text> */}\n\n      <g transform={translate(chartX, chartY + chartH + 60)}>\n        <text fontSize='7' fontFamily={font} fontWeight='bolder' x={0} y={0}>{symbol}</text>\n        {/* <text fontSize='7' fontFamily={font} fontWeight='bolder' x={0} y={15}>{exchangeName}</text> */}\n        {/* <text fontSize='7' fontFamily={font} fontWeight='bolder' x={0} y={30}>{market}</text> */}\n      </g>\n    </svg>\n  )\n}\n\nexport default Poster\n","import React, { useState } from 'react'\nimport Select from 'react-select'\nimport { searchStock } from '../lib/api'\n\nfunction StockSelect ({ value, onStockSelect }) {\n  const [options, setOptions] = useState([])\n\n  const updateSearch = (query) => {\n    if (!query) { return }\n\n    const fetch = async () => {\n      const res = await searchStock(query)\n      const newItems = res.quotes.map(quote => { return { value: quote.symbol, label: quote.shortname } })\n      setOptions(newItems)\n    }\n    fetch()\n  }\n\n  return (\n    <Select\n      isSearchable\n      value={value}\n      onChange={onStockSelect}\n      onInputChange={updateSearch}\n      options={options}\n    />\n  )\n}\n\nexport default StockSelect\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledInput = styled.input`\n  display: flex;\n  flex-grow: 1;\n  padding: 10px;\n  border-radius: 3px;\n  border: solid #ccc 1px;\n  margin: 2px 0;\n`\n\nfunction Input ({ value, onChange, placeholder }) {\n  return (\n    <StyledInput value={value} onChange={onChange} placeholder={placeholder} />\n  )\n}\nexport default Input\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n\n  :hover div {\n    background-color: rgba(68, 148, 84, 0.1);\n  }\n`\n\nconst CheckBox = styled.div`\n  width: 18px;\n  height: 18px;\n  border-radius: 3px;\n  margin-right: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  background-color: ${props => props.checked ? '#449454 !important' : '#fff'};\n  border: 1px solid #ccc;\n  transition: 200ms;\n\n  animation-name: ${props => props.checked ? 'popup' : 'none'};\n  animation-duration: 600ms;\n\n  @keyframes popup {\n    0%   { transform: scale(1,1) }\n    10%  { transform: scale(1.1,1.1) }\n    30%  { transform: scale(.9,.9) }\n    50%  { transform: scale(1,1) }\n    57%  { transform: scale(1,1) }\n    64%  { transform: scale(1,1) }\n    100% { transform: scale(1,1) }\n  }\n`\n\nconst Text = styled.p`\n  margin: 3px;\n`\n\nfunction Component ({ value, children, onChange }) {\n  return (\n    <Container onClick={() => onChange(!value)} checked={value}>\n      <CheckBox checked={value}>âœ“</CheckBox>\n      <Text>{children}</Text>\n    </Container>\n  )\n}\nexport default Component\n","import React from 'react'\nimport styled from 'styled-components'\nimport hexToRgba from 'hex-rgba'\n\nconst StyledButton = styled.div`\n  background-color: ${props => props.enabled ? props.color : '#999'};\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  border-radius: 3px;\n  cursor: ${props => props.enabled ? 'pointer' : 'initial'};\n  transition: 200ms;\n\n  :hover {\n    background-color: ${props => props.enabled ? hexToRgba(props.color, 80) : '#999'};\n  }\n`\n\nfunction Button ({ onClick, enabled = true, children, color = '#6F9DDF', style }) {\n  return (\n    <StyledButton style={style} color={color} onClick={enabled ? onClick : null} enabled={enabled}>\n      {children}\n    </StyledButton>\n  )\n}\nexport default Button\n","import React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n\n  @media screen and (max-width: 600px) {\n    height: 75vw;\n  }\n`\n\nconst Inner = styled.div`\n  position: absolute;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n`\n\nfunction AutoSize ({ children }) {\n  const [scale, setScale] = useState(1)\n  const containerElement = useRef(null)\n  const innerElement = useRef(null)\n\n  const calcScale = () => {\n    if (!(containerElement.current && innerElement.current)) { return }\n    // console.log('it do go down')\n    // console.log(scale * 1000 + 'px')\n\n    const xScale = containerElement.current.scrollWidth / innerElement.current.scrollWidth\n    const yScale = containerElement.current.scrollHeight / innerElement.current.scrollHeight\n\n    setScale(xScale < yScale ? xScale : yScale)\n  }\n\n  window.addEventListener('resize', () => {\n    calcScale()\n  })\n\n  // This causes issues for the svg text scaling! Too bad!\n  useEffect(() => {\n    calcScale()\n  })\n\n  return (\n    <Container ref={containerElement} className='AutoSize'>\n      <Inner scale={scale} ref={innerElement} style={{ transform: 'scale(' + scale + ')' }}>\n        {/* Possible fix using z translation instead... */}\n        {/* <Inner scale={scale} ref={innerElement} style={{ transform: 'perspective(100px) translateZ(' + scale * 10 + 'px)' }}> */}\n\n        {children}\n        {/* Send back on rendered from child maybe? */}\n        {/* {React.cloneElement(children, { id: 'foobar' })} */}\n      </Inner>\n    </Container>\n  )\n}\nexport default AutoSize\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  height: 40px;\n  width: 100%;\n  border-radius: 5px;\n  margin: 20px 0;\n  overflow: hidden;\n  display: flex;\n`\n\nconst Color = styled.div`\n  background-color: ${props => props.color};\n  display: flex;\n  flex: 1;\n  border: ${props => props.highlighted ? 'solid #1273DE 3px' : 'none'};\n`\n\nfunction Swatch ({ colors, activeIndex = 0, onClick = () => (null) }) {\n  // console.log('rendering swatch')\n\n  if (!Array.isArray(colors)) {\n    colors = [colors]\n  }\n\n  if (colors.length === 1) {\n    activeIndex = 2\n  }\n\n  return (\n    <Container>\n      {colors.map((color, i) => <Color onClick={() => onClick(i)} key={'swatch' + color} color={color} highlighted={i === activeIndex} />)}\n    </Container>\n  )\n}\nexport default Swatch\n","import React, { useState } from 'react'\nimport Popup from 'react-animated-popup'\nimport Button from './Button'\nimport Input from './Input'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nfunction InputPopup ({ visible, onClose, onSubmit, title, maxCharacters = 9999 }) {\n  const [text, setText] = useState('')\n\n  const finish = () => {\n    onSubmit(text)\n    setText('')\n  }\n\n  return (\n    <Popup visible={visible} onClose={onClose}>\n      <Container>\n        <p>{title}</p>\n        <Input value={text} onChange={(e) => e.target.value.length < maxCharacters ? setText(e.target.value) : null} placeholder='Event text...' />\n        <Button enabled={!!text} onClick={finish}>Add event</Button>\n      </Container>\n    </Popup>\n  )\n}\nexport default InputPopup\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst SpacerElement = styled.div`\n  height: ${props => props.height}px;\n`\n\nfunction Spacer ({ height = 10 }) {\n  return (\n    <SpacerElement height={height} />\n  )\n}\nexport default Spacer\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport InputHeadline from './InputHeadline'\nimport Button from './Button'\nimport Popup from 'react-animated-popup'\nimport DatePicker from 'react-date-picker'\nimport Input from './Input'\nimport Spacer from './Spacer'\n\nconst Container = styled.div`\n\n`\n\nconst EventElement = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 6px;\n  border-bottom: 1px solid #eee;\n  border-radius: 2px;\n  margin: 6px 0;\n`\n\nconst Text = styled.p`\n  flex: 1;\n  margin: 0;\n  color: #666;\n`\n\nconst iconStyle = {\n  padding: '0 6'\n}\n\nconst Hover = styled.div`\n  opacity: 0.3;\n  transition: 200ms;\n  cursor: pointer;\n\n  :hover {\n    opacity: 6;\n  }\n`\n\nconst PopupContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nfunction Event ({ event, onEdit, onDelete }) {\n  return (\n    <EventElement>\n      <Text>{event.index}: {event.text}</Text>\n      <Hover onClick={() => onEdit(event)}>\n        <FontAwesomeIcon size='sm' style={iconStyle} icon={faEdit} />\n      </Hover>\n      <Hover onClick={() => onDelete(event)}>\n        <FontAwesomeIcon size='sm' style={iconStyle} icon={faTrash} />\n      </Hover>\n    </EventElement>\n  )\n}\n\nfunction EventEditor ({ events, onDelete, onAdd, minDate, maxDate, color }) {\n  const [showPopup, setShowPopup] = useState(false)\n  const [date, setDate] = useState(new Date())\n  const [text, setText] = useState('')\n  const [editing, setEditing] = useState()\n\n  const openPopup = () => {\n    setShowPopup(true)\n  }\n\n  const createEvent = () => {\n    setEditing(null)\n    setShowPopup(false)\n    onAdd({ timeStamp: Math.round(date.getTime() / 1000), text: text })\n  }\n\n  const onEdit = (event) => {\n    setEditing(event)\n    setText(event.text)\n    setDate(new Date(event.timeStamp * 1000))\n    setShowPopup(true)\n    onDelete(event)\n  }\n\n  const onClose = () => {\n    setShowPopup(false)\n    if (editing) {\n      onAdd(editing)\n      setEditing(null)\n    }\n  }\n\n  return (\n    <Container>\n      {/* <InputHeadline>Events</InputHeadline> */}\n      {events.map(event => <Event event={event} onDelete={onDelete} onEdit={onEdit} key={'eventEditor' + event.id} />)}\n      <Spacer />\n      <Button onClick={openPopup} color={color}>Create new event</Button>\n      <Popup visible={showPopup} onClose={onClose}>\n        <PopupContainer>\n          <p>New event</p>\n          <DatePicker\n            minDate={minDate}\n            maxDate={maxDate}\n            style={{ border: 'none' }}\n            onChange={setDate}\n            value={date}\n          />\n          <Input onChange={(e) => setText(e.target.value)} value={text} />\n          <Button onClick={createEvent} color={color}>Create event</Button>\n        </PopupContainer>\n      </Popup>\n    </Container>\n  )\n}\nexport default EventEditor\n","import React, { useEffect, useState, useRef, useMemo } from 'react'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons'\n\nconst retractedHeight = 21\n\nconst Container = styled.div`\n  position: relative;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: #fff;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  height: ${props => props.height}px;\n  overflow: hidden;\n  transition: 200ms;\n`\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst Hitbox = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: ${retractedHeight + 20 * 2}px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  border-radius: 10px;\n  transition: 200ms;\n`\n\nconst Arrow = styled.div`\n  transition: 200ms;\n  transform: rotate(${props => props.expanded ? '270' : '90'}deg);\n  padding: 10px;\n  margin-right: 10px;\n  user-select: none;\n`\n\nconst Title = styled.h2`\n  margin: 0;\n  margin-bottom: 24px;\n  font-size: 18px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst iconStyle = {\n  padding: '0 6'\n}\n\nfunction RoundedBlock ({ title, children, expandable = false, startOpen = false }) {\n  const [currentHeight, setCurrentHeight] = useState(expandable && !startOpen ? retractedHeight : 'auto')\n  const [targetHeight, setTargetHeight] = useState()\n  const ContainerRef = useRef(null)\n\n  const expanded = useMemo(() => {\n    return currentHeight !== retractedHeight\n  }, [currentHeight])\n\n  useEffect(() => {\n    if (ContainerRef.current) {\n      setTargetHeight(ContainerRef.current.scrollHeight)\n      if (expanded) {\n        setCurrentHeight(ContainerRef.current.scrollHeight)\n      }\n    }\n  }, [children])\n\n  useEffect(() => {\n    if (startOpen) {\n      setCurrentHeight(ContainerRef.current.scrollHeight)\n    }\n  }, [])\n\n  const handleToggle = (e) => {\n    setCurrentHeight(expanded ? retractedHeight : targetHeight)\n  }\n\n  return (\n    <Container height={currentHeight}>\n      {expandable &&\n        <Hitbox onClick={handleToggle}>\n          <Arrow expanded={expanded}>\n            <FontAwesomeIcon size='sm' style={iconStyle} icon={faAngleRight} />\n          </Arrow>\n        </Hitbox>}\n      <Content ref={ContainerRef}>\n        {title &&\n          <Title>\n            {title}\n          </Title>}\n        {children}\n      </Content>\n    </Container>\n  )\n}\nexport default RoundedBlock\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid ${props => props.color};\n`\n\nconst Option = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 4px;\n  background-color: ${props => props.selected ? props.color : '#fff'};\n  color: ${props => props.selected ? '#fff' : '#666'};\n  transition: 200ms;\n  cursor: pointer;\n\n  :hover {\n    background-color: ${props => props.color};\n    color: #fff;\n  }\n`\n\nfunction HorizontalSelector ({ value, onChange, options, color = '#297BE6' }) {\n  const [currentValue, setCurrentValue] = useState(value)\n\n  const elements = options.map(option => <Option key={option.label + option.value} onClick={(e) => click(e, option)} selected={currentValue.value === option.value} color={color}>{option.label}</Option>)\n\n  const click = (e, option) => {\n    setCurrentValue({ ...option })\n  }\n\n  useEffect(() => {\n    onChange(currentValue)\n    console.log('sent back!')\n  }, [currentValue])\n\n  return (\n    <Container className='horizontalSelector' color={color}>\n      {elements}\n    </Container>\n  )\n}\nexport default HorizontalSelector\n","import React, { useMemo } from 'react'\nimport InputHeadline from './InputHeadline'\nimport { useStickyState } from '../lib/utils'\nimport Spacer from './Spacer'\nimport HorizontalSelector from './HorizontalSelector'\nimport DatePicker from 'react-date-picker'\n\nconst year = new Date(0)\nyear.setFullYear(year.getFullYear() + 1)\n\nconst ranges = [\n  { value: 'custom', label: 'custom' },\n  { value: 'max', label: 'max' },\n  { value: year.getTime() * 5, label: '5y' },\n  { value: year.getTime(), label: '1y' },\n  { value: year.getTime() / 2, label: '6mo' },\n  { value: year.getTime() / 12, label: '1mo' }\n]\n\nconst newISOFromISOMinusMS = (date, minus) => {\n  return (new Date((new Date(date)).getTime() - minus)).toISOString()\n}\n\nconsole.log(ranges)\n\nfunction DateSelector ({ startDate, endDate, onDates, color }) {\n  const [range, setRange] = useStickyState(ranges[0], 'range')\n\n  const changeStartDate = (date) => {\n    onDates(date, endDate)\n  }\n\n  const changeEndDate = (date) => {\n    if (range.value === 'custom' || range.value === 'max') {\n      onDates(startDate, date)\n    } else {\n      onDates(newISOFromISOMinusMS(startDate, range.value), date)\n    }\n  }\n\n  const changeRange = (val) => {\n    if (val.value === 'max') {\n      onDates((new Date(0)).toISOString(), (new Date()).toISOString())\n    } else if (val.value === 'custom') {\n      // Do nada\n    } else {\n      changeStartDate(newISOFromISOMinusMS(endDate, val.value))\n    }\n    setRange(val)\n  }\n\n  const startDateObj = useMemo(() => {\n    return new Date(startDate)\n  }, [startDate])\n\n  const endDateObj = useMemo(() => {\n    return new Date(endDate)\n  }, [endDate])\n\n  return (\n    <>\n      <InputHeadline>Select start date</InputHeadline>\n      <DatePicker\n        style={{ border: 'none !important' }}\n        onChange={(date) => changeStartDate(date.toISOString())}\n        value={startDateObj}\n        disabled={range.value !== 'custom'}\n      />\n      <InputHeadline>Select end date</InputHeadline>\n      <DatePicker\n        style={{ border: 'none !important' }}\n        onChange={(date) => changeEndDate(date.toISOString())}\n        value={endDateObj}\n        disabled={range.value === 'max'}\n      />\n      <Spacer />\n      <HorizontalSelector value={range} options={ranges} onChange={changeRange} color={color} />\n    </>\n  )\n}\nexport default DateSelector\n","import React from 'react'\nimport Popup from 'react-animated-popup'\nimport styled from 'styled-components'\nimport Button from './Button'\n\nconst Text = styled.p`\n\n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  div {\n\n  }\n`\n\nconst Spacer = styled.div`\n  width: 20px;\n  flex-grow: 0;\n`\n\nfunction YesNoPrompt ({ visible, children, color, onYes, onNo }) {\n  return (\n    <Popup onClose={onNo} visible={visible}>\n      <Text>{children}</Text>\n      <ButtonContainer>\n        <Button onClick={onNo} style={{ flex: 1 }} color={color}>No</Button>\n        <Spacer />\n        <Button onClick={onYes} style={{ flex: 1 }} color={color}>Yes</Button>\n      </ButtonContainer>\n    </Popup>\n  )\n}\nexport default YesNoPrompt\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport Button from './Button'\nimport Spacer from './Spacer'\n\nconst Title = styled.h1`\n  margin-top: 0;\n`\n\nconst TextArea = styled.textarea`\n  height: 200px;\n  max-width: 600px;\n  width: calc(80vw - 40px);\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-family: sans-serif;\n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n`\n\nconst ButtonSpacer = styled.div`\n  width: 10px;\n`\n\nconst MaxWordText = styled.div`\n  color: ${props => props.overLimit ? 'red' : '#aaa'};\n  margin-top: 2px;\n  font-size: 10px;\n`\n\nconst buttonStyle = {\n  flex: 1,\n  maxWidth: 100\n}\n\nfunction TextEditor ({ children, onCancel, onText, maxWords, color }) {\n  const [text, setText] = useState(children)\n\n  const maxWordsText = text.length + ' / ' + maxWords\n\n  return (\n    <>\n      <Title>Edit text</Title>\n      <TextArea value={text} onChange={(e) => setText(e.target.value)} />\n      {maxWords && <MaxWordText overLimit={text.length > maxWords}>{maxWordsText}</MaxWordText>}\n      <Spacer height={20} />\n      <ButtonContainer>\n        <Button color={color} style={buttonStyle} onClick={() => onCancel(text)}>Cancel</Button>\n        <ButtonSpacer />\n        <Button color={color} style={buttonStyle} enabled={text.length < maxWords} onClick={() => onText(text)}>Save</Button>\n      </ButtonContainer>\n    </>\n  )\n}\nexport default TextEditor\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 16px;\n`\n\nconst Title = styled.div`\n  color: #666;\n`\n\nconst Price = styled.div`\n\n`\n\nfunction CartItem ({ price, children }) {\n  return (\n    <Container>\n      <Title>\n        {children}\n      </Title>\n      <Price>\n        {price}\n      </Price>\n    </Container>\n  )\n}\nexport default CartItem\n","import React, { useState, useEffect, useMemo } from 'react'\nimport styled from 'styled-components'\nimport Select from 'react-select'\nimport { getChart, getProfile } from './lib/api'\nimport InputHeadline from './components/InputHeadline'\nimport Poster from './components/Poster'\nimport StockSelect from './components/StockSelect'\nimport { dateToString, exportPDF, getPointsFromSize, useStickyState, getFontNameFromURL } from './lib/utils'\nimport Input from './components/Input'\nimport { TwitterPicker } from 'react-color'\nimport Checkbox from './components/Checkbox'\nimport Button from './components/Button'\nimport AutoSize from './components/AutoSize'\nimport Swatch from './components/Swatch'\nimport Slider from 'react-input-slider'\nimport InputPopup from './components/InputPopup'\nimport EventEditor from './components/EventEditor'\nimport { v4 as uuidv4 } from 'uuid'\nimport RoundedBlock from './components/RoundedBlock'\nimport Spacer from './components/Spacer'\nimport DateSelector from './components/DateSelector'\nimport hexToRgba from 'hex-rgba'\nimport YesNoPrompt from './components/YesNoPrompt'\nimport Popup from 'react-animated-popup'\nimport TextEditor from './components/TextEditor'\nimport CartItem from './components/CartItem'\n\nconst dev = !!window.location.href.includes('localhost:3000')\n// const dev = false\n\nconst themeColor = '#272f44'\n\nconst sizes = [\n  { value: { size: [40, 30], unit: 'cm' }, label: '30x40cm' },\n  { value: { size: [70, 50], unit: 'cm' }, label: '50x70cm' },\n  { value: { size: [100, 70], unit: 'cm' }, label: '70x100cm' },\n  { value: { size: [17, 11], unit: 'inches' }, label: '11x17\"' },\n  { value: { size: [24, 18], unit: 'inches' }, label: '18x24\"' },\n  { value: { size: [36, 24], unit: 'inches' }, label: '24x36\"' }\n]\n\nconst fonts = [\n  { value: 'myLora', label: 'Classic', url: '/smallimprint-stock-chart-demo/Lora.ttf' },\n  { value: 'myOpen Sans', label: 'Modern', url: '/smallimprint-stock-chart-demo/OpenSans-Regular.ttf' }\n]\n\nexport const getFonts = () => { return fonts }\n\nconst fontsCSSCode = fonts.map((font) => {\n  return `\n  @font-face {\n    font-family: ${font.value};\n    src: url(${font.url}) format('truetype');\n  }\n  `\n})\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  min-height: calc(100vh - 130px);\n  width: 100vw;\n  background-color: #f4f4f4;\n\n  .react-date-picker__wrapper {\n    border: none;\n  }\n\n  .react-date-picker__wrapper svg {\n    width: 12px;\n  }\n\n  @media screen and (max-width: 600px) {\n    flex-direction: column;\n  }\n\n  ${fontsCSSCode}\n`\n\nconst SideBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 350px;\n  padding: 20px;\n  max-height: calc(100vh - 40px - 90px);\n  overflow: scroll;\n\n  @media screen and (max-width: 600px) {\n    width: auto;\n    overflow: visible;\n  }\n\n  * {\n    flex-shrink: 0;\n  }\n`\n\nconst PosterContainer = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: 1px;\n  padding: 20px;\n\n  @media screen and (max-width: 600px) {\n    flex-grow: 0;\n  }\n`\n\nconst Disclamer = styled.p`\n  color: #999;\n  font-size: 12px;\n`\n\nconst getStockData = async (dev, symbol, startDate, endDate) => {\n  const data = dev && window.localStorage.getItem('apple') ? JSON.parse(window.localStorage.getItem('apple')) : await getChart(symbol, startDate, endDate)\n  // const data = await getChart(symbol, startDate, endDate)\n  window.localStorage.setItem('apple', JSON.stringify(data))\n  // const data = JSON.parse(window.localStorage.getItem('apple'))\n  // console.log(data)\n  return (data)\n}\n\nconst getProfileData = async (dev, symbol) => {\n  const data = dev && window.localStorage.getItem('appleProfile') ? JSON.parse(window.localStorage.getItem('appleProfile')) : await getProfile(symbol)\n  // const data = await getProfile(symbol)\n  // console.log('here is the data')\n  // console.log(data)\n  window.localStorage.setItem('appleProfile', JSON.stringify(data))\n  // const data = JSON.parse(window.localStorage.getItem('appleProfile'))\n\n  // console.log(data)\n\n  return (data)\n}\n\n// stupid fix\nconst PopupWidener = styled.div`\n  div>div {\n    max-width: 80vw;\n  }\n`\n\nconst aYearAgo = new Date((new Date()).setFullYear((new Date()).getFullYear() - 1))\n\nfunction App () {\n  const [stockSymbol, setStockSymbol] = useStickyState({ value: 'AAPL', label: 'Apple Inc' }, 'stockSymbol')\n  const [title, setTitle] = useStickyState('Your title', 'title')\n  const [subTitle, setSubtitle] = useStickyState('Your subtitle', 'subTitle')\n  const [companyDescription, setCompanyDescription] = useState('')\n  const [exchangeName, setExchangeName] = useState('')\n  const [market, setMarket] = useState('')\n  const [startDate, setStartDate] = useStickyState(aYearAgo.toISOString(), 'startDate')\n  const [endDate, setEndDate] = useStickyState(new Date().toISOString(), 'endDate')\n  const [stockData, setStockData] = useState([])\n  const [size, setSize] = useStickyState(sizes[0], 'size')\n  const [font, setFont] = useStickyState(fonts[0], 'font')\n  const [lineThickness, setLineThickness] = useStickyState(1, 'lineThickness')\n  const [color, setColor] = useStickyState('#1273DE', 'color')\n  const [eventColor, setEventColor] = useStickyState(true, 'eventColor')\n  const [fill, setFill] = useStickyState(true, 'showFill')\n  const [showDate, setShowDate] = useStickyState(true, 'showDate')\n  const [currentlyAddingEvent, setCurrentlyAddingEvent] = useState(false)\n  const [events, setEvents] = useStickyState([], 'events') // [{timestamp: 1, text: 'foo'}]\n  const [appHasLoaded, setAppHasLoaded] = useState(false)\n  const [showClearAllEventsPopup, setShowClearAllEventsPopup] = useState(false)\n  const [showCompanyDescriptionPopup, setShowCompanyDescriptionPopup] = useState(false)\n  const [price, setPrice] = useState()\n\n  const [devMode, setDevMode] = useStickyState(dev, 'devMode')\n\n  // Uncomment to use dynamic theme color\n  // themeColor = useMemo(() => {\n  //   return color\n  // }, [color])\n\n  const fillColors = useMemo(() => {\n    const startColor = hexToRgba(color, 50)\n    return [startColor, color]\n  }, [color])\n\n  useMemo(() => {\n    setShowClearAllEventsPopup(!!((appHasLoaded && events.length))) // Don't show prompt on first app load\n  }, [stockSymbol])\n\n  useEffect(() => {\n    setAppHasLoaded(true)\n  }, [])\n\n  useEffect(() => {\n    if (!stockSymbol) { return }\n    const fetchStock = async () => {\n      console.log('fetching stock')\n      const stock = await getStockData(devMode, stockSymbol.value, startDate, endDate)\n      setStockData(stock)\n\n      // use this line to debug events\n      if (devMode) {\n        setEvents([{ timeStamp: 1599053400, text: 'Fam pork', index: 1, id: 'foo' }, { timeStamp: 1599658200, text: 'Vinyl pinterest', index: 2, id: 'foo2' }, { timeStamp: 1600176600, text: 'XOXO schlitz', index: 3, id: 'foo3' }, { timeStamp: 1600435800, text: 'Vape shaman', index: 4, id: 'foo4' }, { timeStamp: 1601559000, text: 'Poke synth', index: 5, id: 'foo5' }, { timeStamp: 1602250200, text: 'Pour-over', index: 6, id: 'foo6' }, { timeStamp: 1602595800, text: 'Next level', index: 7, id: 'foo7' }, { timeStamp: 1603805400, text: 'taiyaki truffaut', index: 8, id: 'foo8' }, { timeStamp: 1603891800, text: 'Bushwick green', index: 9, id: 'foo9' }, { timeStamp: 1603978200, text: 'Tumblr flexitarian ', index: 10, id: 'foo10' }])\n      }\n    }\n    fetchStock()\n  }, [stockSymbol, startDate, endDate])\n\n  useEffect(() => {\n    if (!stockSymbol) { return }\n    const fetch = async () => {\n      console.log('fetching profile')\n      const profile = await getProfileData(devMode, stockSymbol.value)\n      setExchangeName(profile.price.exchangeName)\n      setMarket(profile.quoteType.market)\n      if (profile.symbol === '^IXIC') { // Missing business summary, todo make json object for these\n        profile.assetProfile = { longBusinessSummary: \"The NASDAQ (National Association of Securities Dealers Automated Quotations) is an electronic stock exchange with more than 3,300 company listings. It was founded in 1971 by the National Association of Securities Dealers (NASD), now known as the Financial Industry Regulatory Authority. On February 8, 1971, the Nasdaq stock market began operations as the world's first electronic stock market.\" }\n      } else if (profile.symbol === '^DJI') {\n        profile.assetProfile = { longBusinessSummary: 'The Dow Jones Industrial Average (DJIA), Dow Jones, is a stock market index that measures the stock performance of 30 large companies listed on stock exchanges in the United States. Although it is one of the most commonly followed equity indices, many consider the Dow to be an inadequate representation of the overall U.S. stock market compared to broader market indices such as the S&P 500 Index or Russell 3000 because it only includes 30 large cap companies, is not weighted by market capitalization, and does not use a weighted arithmetic mean. First calculated on May 26, 1896,the index is the second-oldest among the U.S. market indices (after the Dow Jones Transportation Average). It was created by Charles Dow, the editor of The Wall Street Journal and the co-founder of Dow Jones & Company, and named after him and his business associate, statistician Edward Jones.' }\n      } else if (profile.symbol === '^GSPC') {\n        profile.assetProfile = { longBusinessSummary: 'The S&P 500 is a stock market index that measures the stock performance of 500 large companies listed on stock exchanges in the United States. It is one of the most commonly followed equity indices. The S&P 500 Index is a market-capitalization-weighted index of the 500 largest U.S. publicly traded companies. The S&P is a float-weighted index, meaning company market capitalizations are adjusted by the number of shares available for public trading. 10 largest companies in the index account for 26% of the market capitalization of the index. The components that have increased their dividends in 25 consecutive years are known as the S&P 500 Dividend Aristocrats. The index value is updated every 15 seconds, or 1,559 times per trading day. The S&P 500 is maintained by S&P Dow Jones Indices, a joint venture majority-owned by S&P Global, and its components are selected by a committee.' }\n      }\n      setCompanyDescription(profile.assetProfile ? profile.assetProfile.longBusinessSummary : '')\n    }\n    fetch()\n  }, [stockSymbol])\n\n  const onNewStockSymbol = (symbol) => {\n    setStockSymbol(symbol)\n    setTitle('')\n    setSubtitle('')\n  }\n\n  const addEvent = (eventText, timeStamp = currentlyAddingEvent) => {\n    const newEvents = [...events, { timeStamp: timeStamp, text: eventText, index: 0, id: uuidv4() }].sort((a, b) => a.timeStamp > b.timeStamp).map((event, i) => ({ ...event, index: i + 1 }))\n\n    setEvents(newEvents)\n    console.log(newEvents)\n    setCurrentlyAddingEvent(false)\n  }\n\n  const deleteEvent = (event) => {\n    setEvents(events.filter(e => e.timeStamp !== event.timeStamp))\n  }\n\n  const setBothDates = (start, end) => {\n    setStartDate(start)\n    setEndDate(end)\n  }\n\n  const clearEvents = () => {\n    setEvents([])\n    setShowClearAllEventsPopup(false)\n  }\n\n  const updateCompanyDescription = (text) => {\n    setCompanyDescription(text)\n    setShowCompanyDescriptionPopup(false)\n  }\n\n  const getPrice = async (size) => {\n    const queryString = size.label.replace('cm', '').replace('\"', '')\n    const price = await window.getPrice(queryString)\n    return price\n  }\n\n  const buy = async () => {\n    const pdf = await exportPDF(getPointsFromSize(size), devMode)\n    const chartData = {\n      title: title,\n      subtitle: subTitle,\n      symbol: stockSymbol.value,\n      startDate: startDate,\n      endDate: endDate\n    }\n    await window.sendPDF(pdf, chartData)\n    if (!devMode) {\n      window.location.href = 'https://thefinanceposter.com/cart/'\n    }\n  }\n\n  useEffect(() => {\n    const fetch = async () => {\n      setPrice(await getPrice(size))\n    }\n    fetch()\n  }, [size])\n\n  return (\n    <Container>\n      {/* <iframe id='pdf-file' />  Iframe used for pdf export debugging */}\n      <PosterContainer>\n        <AutoSize>\n          <Poster title={title} subTitle={subTitle} font={font.value} symbol={stockSymbol.value} companyDescription={companyDescription} onCompanyDescriptionClick={() => setShowCompanyDescriptionPopup(true)} exchangeName={exchangeName} market={market} startDate={startDate} endDate={endDate} color={color} fill={fill ? fillColors : 'none'} eventColor={eventColor === '#000' ? eventColor : color} showDate={showDate} size={size} stockData={stockData} events={events} onAddEvent={setCurrentlyAddingEvent} lineThickness={lineThickness} />\n        </AutoSize>\n        <PopupWidener>\n          <Popup visible={showCompanyDescriptionPopup} onClose={() => setShowCompanyDescriptionPopup(false)}>\n            <TextEditor color={themeColor} onCancel={() => setShowCompanyDescriptionPopup(false)} onText={updateCompanyDescription} maxWords={1740}>{companyDescription}</TextEditor>\n          </Popup>\n        </PopupWidener>\n      </PosterContainer>\n\n      <SideBar>\n        {dev && <Checkbox value={devMode} onChange={setDevMode}>Dev mode</Checkbox>}\n\n        <RoundedBlock title='Select' expandable startOpen>\n          <StockSelect value={stockSymbol} onStockSelect={onNewStockSymbol} />\n          <DateSelector color={themeColor} startDate={startDate} endDate={endDate} onDates={setBothDates} />\n        </RoundedBlock>\n        <Spacer height={20} />\n        <RoundedBlock title='Design' expandable>\n          <Input value={title} onChange={(e) => setTitle(e.target.value)} placeholder='Title' />\n          <Input value={subTitle} onChange={(e) => setSubtitle(e.target.value)} placeholder='Subtitle' />\n          <InputHeadline>Size</InputHeadline>\n          <Select\n            value={size}\n            onChange={setSize}\n            options={sizes}\n          />\n\n          <InputHeadline>Font</InputHeadline>\n          <Select\n            value={font}\n            onChange={setFont}\n            options={fonts}\n          />\n\n          <InputHeadline>Stroke thickness: {lineThickness}px</InputHeadline>\n          <Spacer height={3} />\n          <Slider\n            styles={{ active: { backgroundColor: themeColor }, track: { height: 5, width: '100%' } }}\n            color={themeColor}\n            axis='x'\n            x={lineThickness * 10}\n            onChange={({ x }) => setLineThickness(x / 10)}\n          />\n\n          <Swatch colors={color} />\n          <TwitterPicker\n            colors={['#000', '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3', '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6', '#BED3F3', '#D4C4FB']}\n            width='100%'\n            color={color}\n            disableAlpha\n            onChange={(color) => setColor(color.hex)}\n          />\n\n          <Spacer />\n          <Checkbox value={fill} onChange={() => setFill(!fill)}>Filled</Checkbox>\n          <Checkbox value={eventColor === '#000'} onChange={() => setEventColor(eventColor === '#000' ? color : '#000')}>Black event indicators</Checkbox>\n          {/* <Checkbox value={showDate} onChange={() => setShowDate(!showDate)}>Show date</Checkbox> */}\n\n        </RoundedBlock>\n        <Spacer height={20} />\n        <RoundedBlock title='Events' expandable>\n          <Disclamer>(This is optional)</Disclamer>\n          <EventEditor minDate={stockData.length ? new Date(stockData[0].timestamp * 1000) : null} maxDate={stockData.length ? new Date(stockData[stockData.length - 1].timestamp * 1000) : null} events={events} onAdd={(event) => addEvent(event.text, event.timeStamp)} onDelete={deleteEvent} color={themeColor} />\n        </RoundedBlock>\n        <YesNoPrompt color={themeColor} visible={showClearAllEventsPopup} onYes={clearEvents} onNo={() => setShowClearAllEventsPopup(false)}>Would you like to clear your events?</YesNoPrompt>\n\n        <Spacer height={20} />\n\n        <RoundedBlock title='Purchase'>\n          <CartItem price={price && price.value + ' ' + price.currency}>Chart {size.label}</CartItem>\n          <Button onClick={buy} color={themeColor}>Add to cart</Button>\n        </RoundedBlock>\n\n      </SideBar>\n\n      <InputPopup maxCharacters={46} visible={currentlyAddingEvent} onClose={() => setCurrentlyAddingEvent(false)} title={'Create event for ' + dateToString(new Date(currentlyAddingEvent * 1000))} onSubmit={addEvent} />\n    </Container>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}