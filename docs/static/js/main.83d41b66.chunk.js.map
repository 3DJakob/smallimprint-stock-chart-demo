{"version":3,"sources":["lib/api.js","components/InputHeadline.js","lib/utils.js","components/SVG/ChartLines.js","components/TextBox.js","components/SVG/Titles.js","components/SVG/DateAxis.js","components/SVG/Event.js","components/Poster.js","components/StockSelect.js","components/Input.js","components/Checkbox.js","components/Button.js","components/AutoSize.js","components/Swatch.js","components/InputPopup.js","components/PDFViewer.js","components/GradientSelector.js","components/EventEditor.js","components/ContainedDatePicker.js","App.js","serviceWorker.js","index.js"],"names":["getProfile","symbol","a","Promise","resolve","reject","req","unirest","query","region","headers","useQueryString","end","res","error","Error","body","getInterval","startDate","endDate","hours","Math","round","start","getTime","getDiffMs","zeroDate","date","setHours","setMinutes","setSeconds","getChart","interval","startDateIn","endDateIn","Date","setDate","getDate","console","log","period2","period1","stockArray","chart","result","timestamp","entries","i","v","push","close","indicators","quote","window","localStorage","setItem","JSON","stringify","searchStock","searchTerm","q","Text","styled","div","InputHeadline","children","pad","inString","string","slice","length","dateToString","getMonth","getFullYear","downloadURI","uri","name","link","document","createElement","download","href","appendChild","click","removeChild","inchesToPoints","inches","cmToPoints","cm","getPointsFromSize","size","value","unit","map","getIndexFromTimeStamp","stockData","inStamp","translate","x","y","ChartLines","chartX","chartY","chartW","chartH","minValue","maxValue","textColor","fontSize","ΔValue","x1","x2","y1","y2","stroke","fill","textAnchor","alignmentBaseline","TextBox","text","maxLines","width","lineSpacing","lines","textWrap","line","key","Titles","title","subTitle","showDate","transform","getMonthName","toLocaleString","month","DateAxis","startStamp","endStamp","year","setFullYear","yearMs","diff","times","years","floor","setMonth","timeStamp","months","dayMs","days","getHours","getMinutes","dateObj","Event","event","points","color","split","cx","cy","r","strokeWidth","fontWeight","dy","index","Poster","companyDescription","exchangeName","market","eventColor","events","onAddEvent","style","lineThickness","useState","currentHoverElement","setCurrentHoverElement","React","useMemo","height","num","stock","reduce","b","max","potens","String","toAdd","Number","ceil","getNiceSpan","timestamps","includes","compare","smallest","abs","shiftToClosest","stockObject","array","toFixed","fillPoints","yStart","xEnd","yEnd","xStart","id","backgroundColor","display","offset","stopColor","Array","isArray","stopOpacity","join","point","onClick","onMouseLeave","onMouseEnter","e","StockSelect","onStockSelect","options","setOptions","isSearchable","onChange","onInputChange","newItems","quotes","label","shortname","fetch","StyledInput","input","Input","placeholder","Container","CheckBox","props","checked","Component","StyledButton","enabled","Button","Inner","AutoSize","scale","setScale","containerElement","useRef","innerElement","calcScale","current","xScale","scrollWidth","yScale","scrollHeight","addEventListener","useEffect","ref","Color","highlighted","Swatch","colors","activeIndex","InputPopup","visible","onClose","onSubmit","maxCharacters","setText","target","pdfjs","GlobalWorkerOptions","workerSrc","version","GradientSelector","fillColors","onFillColors","editingFillColorIndex","setEditingFillColorIndex","triangle","disableAlpha","EventElement","p","iconStyle","padding","Hover","PopupContainer","onEdit","onDelete","icon","faEdit","faTrash","EventEditor","onAdd","minDate","maxDate","showPopup","setShowPopup","editing","setEditing","format","border","ContainedDatePicker","pickerElement","onCalendarClose","sizes","intervals","SideBar","PosterContainer","getStockData","data","getProfileData","App","stockSymbol","setStockSymbol","setTitle","setSubtitle","setCompanyDescription","setExchangeName","setMarket","setStartDate","setEndDate","setStockData","setSize","setInterval","setLineThickness","setColor","setEventColor","setFill","setFillColors","setShowDate","currentlyAddingEvent","setCurrentlyAddingEvent","setEvents","profile","price","quoteType","assetProfile","longBusinessSummary","addEvent","eventText","newEvents","uuidv4","sort","axis","hex","Checkbox","newColors","filter","doc","PDFDocument","margins","top","bottom","left","right","svg","getElementById","SVGtoPDF","stream","pipe","blobStream","on","toBlobURL","exportPDF","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.83d41b66.chunk.js","sourcesContent":["import unirest from 'unirest'\n\nexport const getQuotes = async (symbol = 'TSLA') => {\n  return new Promise(function (resolve, reject) {\n    var req = unirest('GET', 'https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes')\n\n    req.query({\n      symbols: 'TSLA',\n      region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': 'a9d3d38bf9mshfab793adc941393p1e232ajsn826528c6fced',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      console.log(res.body)\n\n      console.log('saved')\n      return res.body.quoteResponse\n    //   const data = res.body\n    //   return data\n    })\n  })\n}\n\nexport const useChart = () => {\n}\n\nexport const getProfile = async (symbol) => {\n  return new Promise(function (resolve, reject) {\n    var req = unirest('GET', 'https://rapidapi.p.rapidapi.com/stock/v2/get-profile')\n\n    req.query({\n      symbol: symbol,\n      region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      // console.log(res.body)\n      resolve(res.body)\n    })\n  })\n}\n\nconst getDiffMs = (startDate, endDate) => {\n  const start = startDate.getTime()\n  const end = endDate.getTime()\n  return end - start\n}\n\n// One of the following is allowed 1m|2m|5m|15m|60m|1d\nconst getInterval = (startDate, endDate) => {\n  const hours = Math.round(getDiffMs(startDate, endDate) / 1000) / 60 / 60\n  if (hours <= 24) {\n    return '5m'\n  } else if (hours <= 24 * 5) {\n    return '15m'\n  } else if (hours <= 24 * 40) {\n    return '60m'\n  } else {\n    return '1d'\n  }\n}\n\nconst zeroDate = (date) => {\n  date.setHours(0)\n  date.setMinutes(0)\n  date.setSeconds(0)\n}\n\nexport const getChart = async (symbol, interval, startDateIn, endDateIn) => {\n  const startDate = new Date(startDateIn.getTime())\n  const endDate = (endDateIn.getTime() > (new Date()).getTime()) ? new Date() : new Date(endDateIn.getTime())\n\n  zeroDate(startDate)\n  zeroDate(endDate)\n  endDate.setDate(endDate.getDate() + 1)\n\n  return new Promise(function (resolve, reject) {\n    const req = unirest('GET', 'https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart')\n    console.log('interval: ' + getInterval(startDate, endDate))\n\n    req.query({\n      interval: getInterval(startDate, endDate),\n      symbol: symbol,\n      period2: Math.round(endDate.getTime() / 1000),\n      period1: Math.round(startDate.getTime() / 1000)\n      // range: range, // Allowed values are (1d | 5d | 3mo | 6mo | 1y | 5y | max)\n      // region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      // console.log(res.body)\n      const body = res.body\n      console.log(body)\n      const stockArray = []\n\n      if (body.chart.result[0].timestamp) {\n        for (const [i, v] of body.chart.result[0].timestamp.entries()) {\n          // if (v * 1000 > startDate.getTime() && v * 1000 < endDate.getTime()) {\n\n          //   stockArray.push({ timestamp: v, close: body.chart.result[0].indicators.quote[0].close[i] })\n          // }\n          stockArray.push({ timestamp: v, close: body.chart.result[0].indicators.quote[0].close[i] })\n        }\n      }\n\n      // console.log(stockArray)\n      window.localStorage.setItem('testData', JSON.stringify(body))\n      resolve(stockArray)\n    })\n  })\n}\n\nexport const searchStock = async (searchTerm) => {\n  return new Promise(function (resolve, reject) {\n    var req = unirest('GET', 'https://rapidapi.p.rapidapi.com/auto-complete')\n\n    req.query({\n      q: searchTerm\n      // region: 'US'\n    })\n\n    req.headers({\n      'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',\n      'x-rapidapi-key': '826524812emshaa5f49b4f980612p125332jsn1d475b70200c',\n      useQueryString: true\n    })\n\n    req.end(function (res) {\n      if (res.error) throw new Error(res.error)\n\n      resolve(res.body)\n    })\n  })\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Text = styled.div`\n  font-weight: bolder;\n  color: #666;\n  font-size: 14px;\n  margin-top: 6px;\n`\n\nfunction InputHeadline ({ children }) {\n  return (\n    <Text>{children}</Text>\n  )\n}\n\nexport default InputHeadline\n","import PDFDocument from '@react-pdf/pdfkit'\nimport SVGtoPDF from 'svg-to-pdfkit'\nimport blobStream from 'blob-stream'\n\nexport const getNiceSpan = (stockData) => {\n  const values = stockData.map(stock => stock.close)\n  const num = values.reduce(function (a, b) {\n    return Math.max(a, b)\n  }, 0)\n\n  // console.log('Number in is: ' + num)\n  const numString = String(Math.round(num))\n  const potens = numString.length\n\n  let toAdd = '1'\n  for (let i = 0; i < potens - 2; i++) {\n    toAdd = toAdd + '0'\n  }\n  toAdd = Number(toAdd)\n\n  let res = Math.ceil((num) / toAdd) * toAdd\n\n  res = Math.round(res / 5) * 5\n\n  //   numString = `${Number(numString.slice(0, 2)) + 1}${numString.slice(2)}` // This is dumb too bad\n\n  //   console.log(numString)\n  // console.log('Number out is: ' + res)\n\n  return [0, res]\n}\n\nexport const pad = (inString) => {\n  const string = '0' + inString\n  return string.slice(string.length - 2, string.length)\n}\n\nexport const dateToString = (date) => {\n  const res = pad(date.getDate()) + '/' + pad(date.getMonth() + 1) + '/' + date.getFullYear()\n  return res\n}\n\nexport const downloadURI = (uri, name) => {\n  var link = document.createElement('a')\n  link.download = name\n  link.href = uri\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n\nexport const inchesToPoints = (inches) => {\n  return inches * 72\n}\n\nexport const cmToPoints = (cm) => {\n  return inchesToPoints(cm * 0.393700787)\n}\n\nexport const getPointsFromSize = (size) => {\n  if (size.value.unit === 'cm') {\n    return size.value.size.map(size => cmToPoints(size))\n  } else if (size.value.unit === 'inches') {\n    return size.value.size.map(size => inchesToPoints(size))\n  }\n}\n\nexport const svgToPDFURL = async (size) => {\n  let url = ''\n  const doc = new PDFDocument({\n    size: 'A4',\n    margins: { // by default, all are 72\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n    // layout: 'landscape' // default is portrait\n  })\n  const svg = document.getElementById('mySVG')\n\n  SVGtoPDF(doc, svg, 0, 0, { width: 200 })\n  doc.end()\n  var stream = await doc.pipe(blobStream())\n  await stream.on('finish', function () {\n    // const iframe = document.getElementById('pdf-file')\n    // iframe.src = stream.toBlobURL('application/pdf')\n    // console.log(stream.toBlobURL('application/pdf'))\n    url = URL.createObjectURL(stream.toBlob()) // Possibly a way to use PDFViewer\n    // console.log(url)\n\n    downloadURI(stream.toBlobURL('application/pdf'), 'mychartv2.pdf')\n  })\n  console.log(url)\n  return url\n}\n\nexport const exportPDF = (size) => {\n  const doc = new PDFDocument({\n    size: size,\n    margins: { // by default, all are 72\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n    // layout: 'landscape' // default is portrait\n  })\n  const svg = document.getElementById('mySVG')\n\n  SVGtoPDF(doc, svg, 0, 0, { width: 200 })\n  doc.end()\n  var stream = doc.pipe(blobStream())\n  stream.on('finish', function () {\n    // const iframe = document.getElementById('pdf-file')\n    // iframe.src = stream.toBlobURL('application/pdf')\n    // console.log(stream.toBlobURL('application/pdf'))\n    // console.log(URL.createObjectURL(stream.toBlob())) // Possibly a way to use PDFViewer\n    downloadURI(stream.toBlobURL('application/pdf'), 'mychart.pdf')\n  })\n}\n\nexport const getIndexFromTimeStamp = (stockData, inStamp) => {\n  if (stockData.length === 0) { return -1 }\n  for (const [i, stock] of stockData.entries()) {\n    if (inStamp === stock.timestamp) {\n      return i\n    }\n  }\n  return -1\n}\n\nexport const translate = (x, y) => {\n  return 'translate(' + x + ',' + y + ')'\n}\n","import React from 'react'\nfunction ChartLines ({ chartX, chartY, chartW, chartH, minValue, maxValue, textColor = '#888', fontSize = '7' }) {\n  const ΔValue = maxValue - minValue\n  return (\n    <g>\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 0.0)} y2={chartY + (chartH * 0.0)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 0.0)}>{minValue + ΔValue * 1.0}</text>\n\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 0.2)} y2={chartY + (chartH * 0.2)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 0.2)}>{minValue + ΔValue * 0.8}</text>\n\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 0.4)} y2={chartY + (chartH * 0.4)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 0.4)}>{minValue + ΔValue * 0.6}</text>\n\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 0.6)} y2={chartY + (chartH * 0.6)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 0.6)}>{minValue + ΔValue * 0.4}</text>\n\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 0.8)} y2={chartY + (chartH * 0.8)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 0.8)}>{minValue + ΔValue * 0.2}</text>\n\n      <line x1={chartX} x2={chartX + chartW} y1={chartY + (chartH * 1.0)} y2={chartY + (chartH * 1.0)} stroke='#ccc' />\n      <text fill={textColor} fontSize={fontSize} x={chartX - 5} textAnchor='end' alignmentBaseline='middle' y={chartY + (chartH * 1.0)}>{minValue + ΔValue * 0.0}</text>\n    </g>\n  )\n}\nexport default ChartLines\n","import React from 'react'\nimport textWrap from 'svg-text-wrap'\n\nfunction TextBox ({ text = '', x = 0, y = 0, maxLines = null, width = 200, fontSize, lineSpacing = 20 }) {\n  let lines = textWrap(text, width, { 'font-size': fontSize })\n  if (maxLines) {\n    lines = lines.slice(0, maxLines)\n  }\n\n  return (\n    <g>\n      {lines.map((line, i) => <text x={x} y={y + i * lineSpacing} key={line + i} fontSize={fontSize}>{line}</text>)}\n    </g>\n  )\n}\nexport default TextBox\n","import React from 'react'\nimport { dateToString, translate } from '../../lib/utils'\n\nfunction Titles ({ width, title, subTitle, showDate, startDate, endDate }) {\n  return (\n    <g transform={translate(0, 130)}>\n      <text x={width / 2} y='0' fill='#000' fontSize='30' textAnchor='middle' alignmentBaseline='hanging'>{title}</text>\n      <text x={width / 2} y='40' fill='#666' fontSize='15' textAnchor='middle' alignmentBaseline='hanging'>{subTitle}</text>\n      {showDate && <text x={width / 2} y='64' fill='#666' fontSize='8' textAnchor='middle' alignmentBaseline='hanging'>{dateToString(startDate)} - {dateToString(endDate)}</text>}\n    </g>\n  )\n}\nexport default Titles\n","import React from 'react'\nimport { dateToString, translate, pad } from '../../lib/utils'\n\nconst getMonthName = (date) => {\n  return date.toLocaleString('default', { month: 'short' })\n}\n\nfunction DateAxis ({ startStamp, endStamp, chartW, chartX, y, fontSize = 7 }) {\n  const year = new Date(0)\n  year.setFullYear(year.getFullYear() + 1)\n  const yearMs = year.getTime()\n  const dayMs = 1000 * 60 * 60 * 24\n  const diff = (endStamp - startStamp) * 1000\n  const times = []\n  const startDate = new Date(startStamp * 1000)\n\n  if (diff > 2 * yearMs) { // over 2 years\n    const years = Math.floor(diff / yearMs)\n    startDate.setMonth(0)\n    startDate.setDate(1)\n\n    for (let i = 0; i <= years; i++) {\n      times.push({ title: startDate.getFullYear(), timeStamp: startDate.getTime() })\n      startDate.setFullYear(startDate.getFullYear() + 1)\n    }\n  } else if (diff > yearMs) { // 2 years - 1 years\n    console.log('over 1 year')\n    const months = Math.floor(diff / (yearMs / 12))\n    console.log(startDate)\n    if (startDate.getDate() > 16) { // half of the month has eleapsed no need to print title\n      startDate.setMonth(startDate.getMonth() + 1)\n    }\n    startDate.setDate(1)\n    console.log(startDate)\n\n    for (let i = 0; i <= months; i++) {\n      times.push({ title: startDate.getFullYear() + ' ' + getMonthName(startDate), timeStamp: startDate.getTime() })\n      startDate.setMonth(startDate.getMonth() + 1)\n    }\n  } else if (diff > 3 * yearMs / 12) { // 1 year - 3 months\n    console.log('over 3 months')\n    const months = Math.floor(diff / (yearMs / 12))\n    if (startDate.getDate() > 16) { // half of the month has eleapsed no need to print title\n      startDate.setMonth(startDate.getMonth() + 1)\n    }\n    startDate.setDate(1)\n\n    for (let i = 0; i <= months; i++) {\n      times.push({ title: getMonthName(startDate), timeStamp: startDate.getTime() })\n      startDate.setMonth(startDate.getMonth() + 1)\n    }\n  } else if (diff > dayMs * 30) { // 3 months - 30 days\n    console.log('over 30 days')\n    const days = Math.floor((diff / dayMs) / 2) // adding 2 days at the time\n    startDate.setHours(1)\n\n    for (let i = 0; i <= days; i++) {\n      times.push({ title: dateToString(startDate), timeStamp: startDate.getTime() })\n      startDate.setDate(startDate.getDate() + 2)\n    }\n  } else if (diff > dayMs * 1) { // 30 days - 3 days\n    console.log('over 3 days')\n    const days = Math.floor(diff / dayMs)\n    startDate.setHours(1)\n\n    for (let i = 0; i <= days; i++) {\n      times.push({ title: dateToString(startDate), timeStamp: startDate.getTime() })\n      startDate.setDate(startDate.getDate() + 1)\n    }\n  } else { // 1 days - 0\n    console.log('print hours...')\n    const hours = Math.floor(diff / (1000 * 60 * 60))\n    startDate.setMinutes(0)\n    startDate.setSeconds(0)\n\n    for (let i = 0; i <= hours; i++) {\n      times.push({ title: pad(startDate.getHours()) + ':' + pad(startDate.getMinutes()), timeStamp: startDate.getTime() })\n      startDate.setHours(startDate.getHours() + 1)\n    }\n  }\n\n  return (\n    <g transform={translate(chartX, y)}>\n      {/* <rect width={chartW} height={10} fill='red' /> */}\n      {times.map((dateObj) => <text textAnchor='middle' fontSize={fontSize} fill='#888' x={chartW * ((dateObj.timeStamp - startStamp * 1000) / diff)} key={'graphDate' + dateObj.timeStamp}>{dateObj.title}</text>)}\n    </g>\n  )\n}\nexport default DateAxis\n","import React from 'react'\nimport { getIndexFromTimeStamp } from '../../lib/utils'\n\nconst lineLength = 10\n\nfunction Event ({ event, stockData, points, color, fontSize = 7 }) { // These are some ugly props... But it makes it easy to use\n  const index = getIndexFromTimeStamp(stockData, event.timeStamp)\n\n  if (index === -1) {\n    return ('')\n  }\n\n  return (\n    <g transform={'translate(' + points[getIndexFromTimeStamp(stockData, event.timeStamp)].split(' ')[0] + ',' + points[getIndexFromTimeStamp(stockData, event.timeStamp)].split(' ')[1] + ')'}>\n      <circle cx={0} cy={-lineLength} r='6' stroke='none' fill={color} />\n      {/* strokeDasharray='5,5' */}\n      <line x1={0} y1={0} x2={0} y2={-lineLength} stroke={color} strokeWidth={0.5} />\n      <text fill='#fff' fontWeight='bolder' fontSize={fontSize} y={-lineLength + 0} x='0' textAnchor='middle' dy='.3em'>{event.index}</text>\n    </g>\n  )\n}\nexport default Event\n","import React, { useState } from 'react'\nimport { getNiceSpan, dateToString, getPointsFromSize, getIndexFromTimeStamp, cmToPoints, translate } from '../lib/utils'\nimport ChartLines from './SVG/ChartLines'\nimport TextBox from './TextBox'\nimport Titles from './SVG/Titles'\nimport DateAxis from './SVG/DateAxis'\n\nimport Event from './SVG/Event'\n\nconst shiftToClosest = (compare, timestamps) => {\n  if (timestamps.length === 0) { return compare }\n\n  let smallest = 0\n  let res = 0\n  for (const timestamp of timestamps) {\n    if (smallest === 0) {\n      smallest = Math.abs(timestamp - compare)\n    } else {\n      if (smallest > Math.abs(timestamp - compare)) {\n        smallest = Math.abs(timestamp - compare)\n        res = timestamp\n      }\n    }\n  }\n  return res\n}\n\nconst Poster = ({ title = '', subTitle = '', symbol = '', companyDescription = '', exchangeName = '', market = '', color, fill = 'none', eventColor = color, showDate = true, startDate, endDate, size, stockData, events, style, onAddEvent, lineThickness }) => {\n  const [currentHoverElement, setCurrentHoverElement] = useState(null)\n  const width = React.useMemo(() => getPointsFromSize(size)[0] / 72 * 96, [size])\n  const height = React.useMemo(() => getPointsFromSize(size)[1] / 72 * 96, [size])\n\n  const [minValue, maxValue] = getNiceSpan(stockData ?? [])\n\n  const chartY = 300\n  const chartH = height - chartY - 265\n\n  const chartX = 130\n  const chartW = width - chartX - chartX\n\n  const timestamps = React.useMemo(() => {\n    if (!stockData) { return [] }\n    return stockData.map(stock => stock.timestamp)\n  }, [stockData])\n\n  events = React.useMemo(() => {\n    return events.map(event => {\n      if (timestamps.includes(event.timeStamp)) {\n        return event\n      } else {\n        event.timeStamp = shiftToClosest(event.timeStamp, timestamps)\n        return event\n      }\n    })\n  }, [events, stockData])\n\n  // add events...\n  const points = React.useMemo(() => {\n    if (stockData == null) return []\n\n    return stockData.map((stockObject, index, array) => {\n      const value = stockObject.close\n      const x = chartX + (index / (array.length - 1)) * chartW\n      const y = chartY + chartH - (((value - minValue) / maxValue) * chartH)\n\n      return `${x.toFixed(8)} ${y.toFixed(8)}`\n    })\n  }, [size, stockData, fill])\n\n  const fillPoints = React.useMemo(() => {\n    if (stockData == null) return []\n\n    const xStart = chartX + 0\n    const yStart = chartY + chartH - (((0 - minValue) / maxValue) * chartH)\n    const xEnd = chartX + ((stockData.length - 1) / (stockData.length - 1)) * chartW\n    const yEnd = chartY + chartH - (((0 - minValue) / maxValue) * chartH)\n    return [xStart + ' ' + yStart, ...points, xEnd + ' ' + yEnd]\n  }, [size, stockData, fill])\n\n  const hoverDot = (x, y) => {\n    setCurrentHoverElement(<circle cx={x} cy={y} r='8' stroke='none' fill={color} />)\n  }\n\n  // <svg id='mySVG' viewBox={`0 0 ${width} ${height}`} style={style}> // Viewbox causes issues with font-sizes!\n  return (\n    <svg id='mySVG' width={width} height={height} style={{ backgroundColor: 'green', display: 'block' }}>\n      {/* <svg id='mySVG' width={width} height={height} style={{ backgroundColor: 'green', display: 'block' }}> */}\n      <defs>\n        <linearGradient id='gradient' x1='0%' y1='0%' x2='0%' y2='100%'>\n          <stop offset='0%' stopColor={Array.isArray(fill) ? fill[0] : '#fff'} stopOpacity={1} />\n          <stop offset='100%' stopColor={Array.isArray(fill) ? fill[1] : '#fff'} stopOpacity={0} />\n        </linearGradient>\n      </defs>\n\n      {/* Borders */}\n      <rect x='0' y='0' width={width} height={height} fill='white' />\n      <rect x={cmToPoints(2.5)} y={cmToPoints(2.5)} width={width - cmToPoints(2.5) * 2} height={height - cmToPoints(2.5) * 2} fill='white' stroke='black' />\n      <rect x={cmToPoints(3)} y={cmToPoints(3)} width={width - cmToPoints(6)} height={height - cmToPoints(6)} fill='white' stroke='black' strokeWidth='3' />\n\n      {/* Titles */}\n      <Titles width={width} title={title} subTitle={subTitle} showDate={showDate} startDate={startDate} endDate={endDate} />\n\n      {/* CHART BG LINES */}\n      <ChartLines chartX={chartX} chartY={chartY} chartW={chartW} chartH={chartH} minValue={minValue} maxValue={maxValue} />\n\n      {/* CHART PATH */}\n      <polyline fill='none' strokeWidth={lineThickness} stroke={color} points={points.join(' ')} />\n      {fill !== 'none' &&\n        <polyline fill='url(#gradient)' strokeWidth='0' stroke='none' points={fillPoints.join(' ')} />}\n      {/* CURRENT HOVER DOT */}\n      {currentHoverElement}\n      {/* HOVER DOTS */}\n      {points.map((point, i) => <circle key={point} onClick={() => onAddEvent(stockData[i].timestamp)} onMouseLeave={() => setCurrentHoverElement(null)} onMouseEnter={(e) => { hoverDot(point.split(' ')[0], point.split(' ')[1]) }} cx={point.split(' ')[0]} cy={point.split(' ')[1]} r='10' stroke='none' fill='transparent' />)}\n\n      {/* EVENTS */}\n      {events.map(event => <Event key={event.id} event={event} color={eventColor} stockData={stockData} points={points} />)}\n\n      {/* <Events stockData={stockData} events={events} chartX={chartX} chartY={chartY} chartH={chartH} chartW={chartW} minValue={minValue} maxValue={maxValue} /> */}\n\n      {events.map((event, i) => <text key={event.id + 'eventText'} x={chartX + chartW - 300 + Math.floor(i / 5) * 160} y={chartY + chartH + 60 + 16 * (i - Math.floor(i / 5) * 5)} fontSize={7}>{i + 1 + '. ' + event.text}</text>)}\n\n      {/* Date axis */}\n      {timestamps.length && <DateAxis startStamp={timestamps[0]} endStamp={timestamps[timestamps.length - 1]} chartW={chartW} chartX={chartX} y={chartY + chartH + 25} />}\n\n      {/* COMPANY DESCRIPTION */}\n      <TextBox text={companyDescription} width={width - 730} fontSize='7' lineSpacing='12' maxLines={false} x={chartX + 100} y={chartY + chartH + 60} />\n      {/* <TextBox text={companyDescription} width={width} fontSize='9' lineSpacing='12' maxLines={false} x={0} y={chartY + chartH + 25} /> */}\n\n      {/* <text x={0} y={chartY + chartH + 25}>I am a very long text that will be rendered incorrectly I presume. I am a very long text that will be rendered incorrectly I presume.</text> */}\n\n      <g transform={translate(chartX, chartY + chartH + 60)}>\n        <text fontSize='7' fontWeight='bolder' x={0} y={0}>{symbol}</text>\n        <text fontSize='7' fontWeight='bolder' x={0} y={15}>{exchangeName}</text>\n        <text fontSize='7' fontWeight='bolder' x={0} y={30}>{market}</text>\n      </g>\n\n      {/* <text x={width - chartX - 135} y={chartY + chartH + 40}>Buy: 203 USD</text>\n      <text x={width - chartX - 135} y={chartY + chartH + 65}>SELL: 2052 USD</text>\n      <text x={width - chartX - 135} y={chartY + chartH + 90}>YIELD: +1050%</text> */}\n    </svg>\n  )\n}\n\nexport default Poster\n","import React, { useState } from 'react'\nimport Select from 'react-select'\nimport { searchStock } from '../lib/api'\n\nfunction StockSelect ({ value, onStockSelect }) {\n  const [options, setOptions] = useState([])\n\n  const updateSearch = (query) => {\n    if (!query) { return }\n\n    const fetch = async () => {\n      const res = await searchStock(query)\n      const newItems = res.quotes.map(quote => { return { value: quote.symbol, label: quote.shortname } })\n      setOptions(newItems)\n    }\n    fetch()\n  }\n\n  return (\n    <Select\n      isSearchable\n      value={value}\n      onChange={onStockSelect}\n      onInputChange={updateSearch}\n      options={options}\n    />\n  )\n}\n\nexport default StockSelect\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledInput = styled.input`\n  padding: 10px;\n  border-radius: 3px;\n  border: solid #ccc 1px;\n  margin: 2px 0;\n`\n\nfunction Input ({ value, onChange, placeholder }) {\n  return (\n    <StyledInput value={value} onChange={onChange} placeholder={placeholder} />\n  )\n}\nexport default Input\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n\n  :hover div {\n    background-color: rgba(68, 148, 84, 0.1);\n  }\n`\n\nconst CheckBox = styled.div`\n  width: 18px;\n  height: 18px;\n  border-radius: 3px;\n  margin-right: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  background-color: ${props => props.checked ? '#449454 !important' : '#fff'};\n  border: 1px solid #ccc;\n  transition: 200ms;\n\n  animation-name: ${props => props.checked ? 'popup' : 'none'};\n  animation-duration: 600ms;\n\n  @keyframes popup {\n    0%   { transform: scale(1,1) }\n    10%  { transform: scale(1.1,1.1) }\n    30%  { transform: scale(.9,.9) }\n    50%  { transform: scale(1,1) }\n    57%  { transform: scale(1,1) }\n    64%  { transform: scale(1,1) }\n    100% { transform: scale(1,1) }\n  }\n`\n\nfunction Component ({ value, children, onChange }) {\n  return (\n    <Container onClick={() => onChange(!value)} checked={value}>\n      <CheckBox checked={value}>✓</CheckBox>\n      <p>{children}</p>\n    </Container>\n  )\n}\nexport default Component\n","import React, { Children } from 'react'\nimport styled from 'styled-components'\n\nconst StyledButton = styled.div`\n  background-color: ${props => props.enabled ? '#297BE6' : '#999'};\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px 0;\n  border-radius: 3px;\n  cursor: ${props => props.enabled ? 'pointer' : 'initial'};\n  transition: 200ms;\n\n  :hover {\n    background-color: ${props => props.enabled ? '#6F9DDF' : '#999'};\n  }\n`\n\nfunction Button ({ onClick, enabled = true, children }) {\n  return (\n    <StyledButton onClick={enabled ? onClick : null} enabled={enabled}>\n      {children}\n    </StyledButton>\n  )\n}\nexport default Button\n","import React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n`\n\nconst Inner = styled.div`\n  position: absolute;\n  box-shadow: 0 0 20px #999;\n`\n\nfunction AutoSize ({ children }) {\n  const [scale, setScale] = useState(1)\n  const containerElement = useRef(null)\n  const innerElement = useRef(null)\n\n  const calcScale = () => {\n    if (!(containerElement.current && innerElement.current)) { return }\n    // console.log('it do go down')\n    // console.log(scale * 1000 + 'px')\n\n    const xScale = containerElement.current.scrollWidth / innerElement.current.scrollWidth\n    const yScale = containerElement.current.scrollHeight / innerElement.current.scrollHeight\n\n    setScale(xScale < yScale ? xScale : yScale)\n  }\n\n  window.addEventListener('resize', () => {\n    calcScale()\n  })\n\n  // This causes issues for the svg text scaling! Too bad!\n  useEffect(() => {\n    calcScale()\n  })\n\n  return (\n    <Container ref={containerElement}>\n      <Inner scale={scale} ref={innerElement} style={{ transform: 'scale(' + scale + ')' }}>\n        {/* Possible fix using z translation instead... */}\n        {/* <Inner scale={scale} ref={innerElement} style={{ transform: 'perspective(100px) translateZ(' + scale * 10 + 'px)' }}> */}\n\n        {children}\n        {/* Send back on rendered from child maybe? */}\n        {/* {React.cloneElement(children, { id: 'foobar' })} */}\n      </Inner>\n    </Container>\n  )\n}\nexport default AutoSize\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  height: 40px;\n  width: 100%;\n  border-radius: 5px;\n  margin: 20px 0;\n  overflow: hidden;\n  display: flex;\n`\n\nconst Color = styled.div`\n  background-color: ${props => props.color};\n  display: flex;\n  flex: 1;\n  border: ${props => props.highlighted ? 'solid #1273DE 3px' : 'none'};\n`\n\nfunction Swatch ({ colors, activeIndex = 0, onClick = () => (null) }) {\n  // console.log('rendering swatch')\n\n  if (!Array.isArray(colors)) {\n    colors = [colors]\n  }\n\n  if (colors.length === 1) {\n    activeIndex = 2\n  }\n\n  return (\n    <Container>\n      {colors.map((color, i) => <Color onClick={() => onClick(i)} key={'swatch' + color} color={color} highlighted={i === activeIndex} />)}\n    </Container>\n  )\n}\nexport default Swatch\n","import React, { useState } from 'react'\nimport Popup from 'react-animated-popup'\nimport Button from './Button'\nimport Input from './Input'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nfunction InputPopup ({ visible, onClose, onSubmit, title, maxCharacters = 9999 }) {\n  const [text, setText] = useState('')\n\n  const finish = () => {\n    onSubmit(text)\n    setText('')\n  }\n\n  return (\n    <Popup visible={visible} onClose={onClose}>\n      <Container>\n        <p>{title}</p>\n        <Input value={text} onChange={(e) => e.target.value.length < maxCharacters ? setText(e.target.value) : null} placeholder='Event text...' />\n        <Button enabled={!!text} onClick={finish}>Add event</Button>\n      </Container>\n    </Popup>\n  )\n}\nexport default InputPopup\n","import React, { useEffect, useState } from 'react'\nimport { pdfjs, Document, Page } from 'react-pdf'\n// import { pdf } from '@react-pdf/renderer'\nimport ClipLoader from 'react-spinners/ClipLoader'\nimport { svgToPDFURL } from '../lib/utils'\n\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\n\nconst Loader = () => {\n  return (\n    <ClipLoader size={150} color='#123abc' loading />\n  )\n}\n\nconst PDFViewer = ({ children, dimensions, aspectRatio, onLoadSuccess }) => {\n  const [pdfUrl, setPdfUrl] = useState(null)\n\n  useEffect(() => {\n    const fetch = async () => {\n      const child = React.Children.only(children)\n      const url = await svgToPDFURL([dimensions.height, dimensions.width], child)\n      console.log(url)\n      setPdfUrl(url)\n    // pdf(child).toBlob().then(blob => {\n    // setPdfUrl(URL.createObjectURL(blob))\n    // })\n    }\n\n    fetch()\n  }, [children])\n\n  let width = null\n  let height = null\n\n  if (dimensions.width > dimensions.height * aspectRatio) {\n    // height is limiting factor\n    height = dimensions.height\n  } else {\n    width = dimensions.width\n  }\n\n  return (\n    <Document file={pdfUrl} loading={<Loader />} onLoadSuccess={onLoadSuccess} noData={<Loader />}>\n      <Page renderMode='canvas' pageNumber={1} scale={1} width={width} height={height} />\n    </Document>\n  )\n}\n\nexport default PDFViewer\n","import React, { useState } from 'react'\nimport Swatch from './Swatch'\nimport { TwitterPicker } from 'react-color'\n\nfunction GradientSelector ({ fillColors, onFillColors }) {\n  const [editingFillColorIndex, setEditingFillColorIndex] = useState(0)\n\n  return (\n    <>\n      <Swatch colors={fillColors} activeIndex={editingFillColorIndex} onClick={(i) => setEditingFillColorIndex(i)} />\n      <TwitterPicker\n        triangle={editingFillColorIndex ? 'top-right' : 'top-left'}\n        colors={['#000', '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3', '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6', '#BED3F3', '#D4C4FB']}\n        width='100%'\n        color={fillColors[editingFillColorIndex]}\n        disableAlpha\n        onChange={(color) => onFillColors(color, editingFillColorIndex)}\n      />\n    </>\n  )\n}\nexport default GradientSelector\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport InputHeadline from './InputHeadline'\nimport Button from './Button'\nimport Popup from 'react-animated-popup'\nimport DatePicker from 'react-date-picker'\nimport Input from './Input'\n\nconst Container = styled.div`\n  margin: 10px 0;\n`\n\nconst EventElement = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 6px;\n  border: 2px solid #eee;\n  border-radius: 2px;\n  margin: 6px 0;\n`\n\nconst Text = styled.p`\n  flex: 1;\n  margin: 0;\n  color: #666;\n`\n\nconst iconStyle = {\n  padding: '0 6'\n}\n\nconst Hover = styled.div`\n  opacity: 0.3;\n  transition: 200ms;\n  cursor: pointer;\n\n  :hover {\n    opacity: 6;\n  }\n`\n\nconst PopupContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nfunction Event ({ event, onEdit, onDelete }) {\n  return (\n    <EventElement>\n      <Text>{event.index}: {event.text}</Text>\n      <Hover onClick={() => onEdit(event)}>\n        <FontAwesomeIcon size='sm' style={iconStyle} icon={faEdit} />\n      </Hover>\n      <Hover onClick={() => onDelete(event)}>\n        <FontAwesomeIcon size='sm' style={iconStyle} icon={faTrash} />\n      </Hover>\n    </EventElement>\n  )\n}\n\nfunction EventEditor ({ events, onDelete, onAdd, minDate, maxDate }) {\n  const [showPopup, setShowPopup] = useState(false)\n  const [date, setDate] = useState(new Date())\n  const [text, setText] = useState('')\n  const [editing, setEditing] = useState()\n\n  const openPopup = () => {\n    setShowPopup(true)\n  }\n\n  const createEvent = () => {\n    setEditing(null)\n    setShowPopup(false)\n    onAdd({ timeStamp: Math.round(date.getTime() / 1000), text: text })\n  }\n\n  const onEdit = (event) => {\n    setEditing(event)\n    setText(event.text)\n    setDate(new Date(event.timeStamp * 1000))\n    setShowPopup(true)\n    onDelete(event)\n  }\n\n  const onClose = () => {\n    setShowPopup(false)\n    if (editing) {\n      onAdd(editing)\n      setEditing(null)\n    }\n  }\n\n  return (\n    <Container>\n      <InputHeadline>Events</InputHeadline>\n      {events.map(event => <Event event={event} onDelete={onDelete} onEdit={onEdit} key={'eventEditor' + event.id} />)}\n      <Button onClick={openPopup}>Create new event</Button>\n      <Popup visible={showPopup} onClose={onClose}>\n        <PopupContainer>\n          <p>New event</p>\n          <DatePicker\n            format='dd/MM/yyyy'\n            minDate={minDate}\n            maxDate={maxDate}\n            style={{ border: 'none' }}\n            onChange={setDate}\n            value={date}\n          />\n          <Input onChange={(e) => setText(e.target.value)} value={text} />\n          <Button onClick={createEvent}>Create event</Button>\n        </PopupContainer>\n      </Popup>\n    </Container>\n  )\n}\nexport default EventEditor\n","import React, { useState, useRef, useEffect } from 'react'\nimport DatePicker from 'react-date-picker'\n\nfunction ContainedDatePicker ({ value, onChange }) {\n  const [date, setDate] = useState(value)\n  const pickerElement = useRef(null)\n\n  return (\n    <DatePicker\n      onCalendarClose={() => onChange(date)}\n      ref={pickerElement}\n      format='dd/MM/yyyy'\n      style={{ border: 'none' }}\n      onChange={setDate}\n      value={date}\n    />\n  )\n}\nexport default ContainedDatePicker\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n// import DatePicker from 'react-date-picker'\nimport Select from 'react-select'\nimport { getQuotes, getChart, getProfile } from './lib/api'\nimport InputHeadline from './components/InputHeadline'\nimport Poster from './components/Poster'\nimport StockSelect from './components/StockSelect'\nimport { dateToString, exportPDF, getPointsFromSize } from './lib/utils'\nimport Input from './components/Input'\nimport { TwitterPicker } from 'react-color'\nimport Checkbox from './components/Checkbox'\nimport Button from './components/Button'\nimport AutoSize from './components/AutoSize'\nimport Swatch from './components/Swatch'\nimport Slider from 'react-input-slider'\nimport InputPopup from './components/InputPopup'\nimport PDFViewer from './components/PDFViewer'\nimport GradientSelector from './components/GradientSelector'\nimport EventEditor from './components/EventEditor'\nimport { v4 as uuidv4 } from 'uuid'\nimport ContainedDatePicker from './components/ContainedDatePicker'\n\nconst sizes = [\n  { value: { size: [40, 30], unit: 'cm' }, label: '30x40cm' },\n  { value: { size: [70, 50], unit: 'cm' }, label: '50x70cm' },\n  { value: { size: [100, 70], unit: 'cm' }, label: '70x100cm' },\n  { value: { size: [17, 11], unit: 'inches' }, label: '11x17\"' },\n  { value: { size: [24, 18], unit: 'inches' }, label: '18x24\"' },\n  { value: { size: [36, 24], unit: 'inches' }, label: '24x36\"' }\n]\n\nconst intervals = [\n  { value: '5m', label: '5m' },\n  { value: '15m', label: '15m' },\n  { value: '1d', label: '1d' },\n  { value: '1wk', label: '1wk' },\n  { value: '1mo', label: '1mo' }\n]\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  min-height: 100vh;\n  width: 100vw;\n\n  .react-date-picker__wrapper {\n    border: none;\n  }\n\n  .react-date-picker__wrapper svg {\n    width: 12px;\n  }\n`\n\nconst SideBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 300px;\n  padding: 20px;\n  max-height: calc(100vh - 40px);\n  overflow: scroll;\n\n  * {\n    flex-shrink: 0;\n  }\n`\n\nconst PosterContainer = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: 1px;\n  background-color: #f4f4f4;\n  padding: 20px;\n`\n\nconst getStockData = async (symbol, interval, startDate, endDate) => {\n  const data = await getChart(symbol, interval, startDate, endDate)\n  // window.localStorage.setItem('apple', JSON.stringify(data))\n  // const data = JSON.parse(window.localStorage.getItem('apple'))\n  // console.log(data)\n  return (data)\n}\n\nconst getProfileData = async (symbol) => {\n  const data = await getProfile(symbol)\n  // console.log('here is the data')\n  // console.log(data)\n  // window.localStorage.setItem('appleProfile', JSON.stringify(data))\n  // const data = JSON.parse(window.localStorage.getItem('appleProfile'))\n\n  // console.log(data)\n\n  return (data)\n}\n\nfunction App () {\n  const [stockSymbol, setStockSymbol] = useState({ value: 'AAPL', label: 'Apple Inc' })\n  const [title, setTitle] = useState('Your title')\n  const [subTitle, setSubtitle] = useState('Your subtitle')\n  const [companyDescription, setCompanyDescription] = useState('')\n  const [exchangeName, setExchangeName] = useState('')\n  const [market, setMarket] = useState('')\n  const [startDate, setStartDate] = useState(new Date('2007-01-01T01:00:00'))\n  const [endDate, setEndDate] = useState(new Date())\n  const [stockData, setStockData] = useState([])\n  const [size, setSize] = useState(sizes[0])\n  const [interval, setInterval] = useState(intervals[1])\n  const [lineThickness, setLineThickness] = useState(1)\n  const [color, setColor] = useState('#FCCB00')\n  const [eventColor, setEventColor] = useState(true)\n  const [fill, setFill] = useState(false)\n  const [fillColors, setFillColors] = useState(['#FEF3BD', '#FCCB00'])\n  const [showDate, setShowDate] = useState(true)\n  const [currentlyAddingEvent, setCurrentlyAddingEvent] = useState(false)\n  const [events, setEvents] = useState([]) // [{timestamp: 1, text: 'foo'}]\n\n  useEffect(() => {\n    if (!stockSymbol) { return }\n    const fetch = async () => {\n      console.log('fetching stock')\n      const stock = await getStockData(stockSymbol.value, interval.value, startDate, endDate)\n      setStockData(stock)\n\n      // use this line to debug events\n      // setEvents([{ timeStamp: 1599053400, text: 'Fam pork', index: 1, id: 'foo' }, { timeStamp: 1599658200, text: 'Vinyl pinterest', index: 2, id: 'foo2' }, { timeStamp: 1600176600, text: 'XOXO schlitz', index: 3, id: 'foo3' }, { timeStamp: 1600435800, text: 'Vape shaman', index: 4, id: 'foo4' }, { timeStamp: 1601559000, text: 'Poke synth', index: 5, id: 'foo5' }, { timeStamp: 1602250200, text: 'Pour-over', index: 6, id: 'foo6' }, { timeStamp: 1602595800, text: 'Next level', index: 7, id: 'foo7' }, { timeStamp: 1603805400, text: 'taiyaki truffaut', index: 8, id: 'foo8' }, { timeStamp: 1603891800, text: 'Bushwick green', index: 9, id: 'foo9' }, { timeStamp: 1603978200, text: 'Tumblr flexitarian ', index: 10, id: 'foo10' }])\n    }\n    fetch()\n  }, [stockSymbol, interval, startDate, endDate])\n\n  useEffect(() => {\n    if (!stockSymbol) { return }\n    const fetch = async () => {\n      console.log('fetching profile')\n      const profile = await getProfileData(stockSymbol.value)\n      setExchangeName(profile.price.exchangeName)\n      setMarket(profile.quoteType.market)\n      setCompanyDescription(profile.assetProfile.longBusinessSummary)\n    }\n    fetch()\n  }, [stockSymbol])\n\n  const addEvent = (eventText, timeStamp = currentlyAddingEvent) => {\n    const newEvents = [...events, { timeStamp: timeStamp, text: eventText, index: 0, id: uuidv4() }].sort((a, b) => a.timeStamp > b.timeStamp).map((event, i) => ({ ...event, index: i + 1 }))\n\n    setEvents(newEvents)\n    console.log(newEvents)\n    setCurrentlyAddingEvent(false)\n  }\n\n  const onFillColors = (color, i) => {\n    const newColors = [...fillColors]\n    newColors[i] = color.hex\n    console.log(newColors)\n    setFillColors(newColors)\n  }\n\n  const deleteEvent = (event) => {\n    setEvents(events.filter(e => e.timeStamp !== event.timeStamp))\n  }\n\n  return (\n    <Container>\n      {/* <iframe id='pdf-file' />  Iframe used for pdf export debugging */}\n      <PosterContainer>\n        <AutoSize>\n          <Poster title={title} subTitle={subTitle} symbol={stockSymbol.value} companyDescription={companyDescription} exchangeName={exchangeName} market={market} startDate={startDate} endDate={endDate} color={color} fill={fill ? fillColors : 'none'} eventColor={eventColor === '#000' ? eventColor : color} showDate={showDate} size={size} stockData={stockData} events={events} onAddEvent={setCurrentlyAddingEvent} lineThickness={lineThickness} />\n        </AutoSize>\n        {/* <Poster title={title} subTitle={subTitle} companyDescription={companyDescription} startDate={startDate} endDate={endDate} color={color} fill={fill ? fillColors : 'none'} eventColor={eventColor === '#000' ? eventColor : color} showDate={showDate} size={size} stockData={stockData} timeStamps={timeStamps} events={events} onAddEvent={setCurrentlyAddingEvent} lineThickness={lineThickness} /> */}\n\n        {/* <PDFViewer dimensions={{ height: size.height, width: size.width }} aspectRatio={size.width / size.height}>\n          <p>test</p>\n        </PDFViewer> */}\n      </PosterContainer>\n\n      <SideBar>\n        <StockSelect value={stockSymbol} onStockSelect={setStockSymbol} />\n\n        <Input value={title} onChange={(e) => setTitle(e.target.value)} placeholder='Title' />\n        <Input value={subTitle} onChange={(e) => setSubtitle(e.target.value)} placeholder='Subtitle' />\n\n        <InputHeadline>Select start date</InputHeadline>\n        <ContainedDatePicker\n          format='dd/MM/yyyy'\n          style={{ border: 'none' }}\n          onChange={setStartDate}\n          value={startDate}\n        />\n        <InputHeadline>Select end date</InputHeadline>\n        <ContainedDatePicker\n          format='dd/MM/yyyy'\n          style={{ border: 'none' }}\n          onCalendarClose={setEndDate}\n          value={endDate}\n        />\n\n        <Select\n          value={size}\n          onChange={setSize}\n          options={sizes}\n        />\n\n        <Select value={interval} onChange={setInterval} options={intervals} />\n\n        <InputHeadline>Stroke thickness: {lineThickness}px</InputHeadline>\n        <Slider\n          axis='x'\n          x={lineThickness * 10}\n          onChange={({ x }) => setLineThickness(x / 10)}\n        />\n\n        <Swatch colors={color} />\n        <TwitterPicker\n          colors={['#000', '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3', '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6', '#BED3F3', '#D4C4FB']}\n          width='100%'\n          color={color}\n          disableAlpha\n          onChange={(color) => setColor(color.hex)}\n        />\n\n        <Checkbox value={fill} onChange={() => setFill(!fill)}>Filled</Checkbox>\n        {fill && <GradientSelector fillColors={fillColors} onFillColors={(color, i) => onFillColors(color, i)} />}\n\n        <Checkbox value={showDate} onChange={() => setShowDate(!showDate)}>Show date</Checkbox>\n        <Checkbox value={eventColor === '#000'} onChange={() => setEventColor(eventColor === '#000' ? color : '#000')}>Black event indicators</Checkbox>\n\n        <EventEditor minDate={stockData.length ? new Date(stockData[0].timestamp * 1000) : null} maxDate={stockData.length ? new Date(stockData[stockData.length - 1].timestamp * 1000) : null} events={events} onAdd={(event) => addEvent(event.text, event.timeStamp)} onDelete={deleteEvent} />\n\n        <Button onClick={() => exportPDF(getPointsFromSize(size))}>Export PDF</Button>\n\n      </SideBar>\n\n      <InputPopup maxCharacters={46} visible={currentlyAddingEvent} onClose={() => setCurrentlyAddingEvent(false)} title={'Create event for ' + dateToString(new Date(currentlyAddingEvent * 1000))} onSubmit={addEvent} />\n    </Container>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}